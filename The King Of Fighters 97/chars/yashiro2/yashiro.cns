[Data]
life = 2000
attack = 100
defence = 100  ;100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 1
guard.sparkno = 40
KO.echo = 0
volume = 255
power=3000
IntPersistIndex=0
FloatPersistIndex=39

[Size]
xscale = 1
yscale = 1
ground.back = 26
ground.front = 13
air.back = 20
air.front = 20
height=100
z.width = 3
attack.width = 4,4
attack.dist = 160
proj.attack.dist = 90
head.pos = -5,-100
mid.pos = -12,-70

[Velocity]
walk.fwd  = 2.6
walk.back = -2.55
run.fwd  = 6, 0
run.back = -6.8,-5
jump.neu = 0,-9.5
jump.back = -2.75,-9.5
jump.fwd = 2.7,-9.5
runjump.fwd = 4.5,-8.8

[Movement]
airjump.num = 0
yaccel = .62
stand.friction = .82
crouch.friction = .82

;-------------------------------------------------------------
; Stance
[Statedef 0]
type    = S
physics = S

[State 0, 1]
type = ChangeAnim
triggerall = Var(1) = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 0

[State 0, 2]
type = ChangeAnim
triggerall = Var(1) > 0
trigger1 = Anim != 6000 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 6000

[State 0, 3]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 4]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

;-------------------------------------------------------------
; Win Initiate
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = time = 0
v = 17
range = 0,99

[State 180,0]
type=ChangeState
triggerall=Var(1)>0
trigger1=1;trigger1 = var(17) = [0,32]
trigger2 = command = "hold_x"
value=185

[State 180, 2]
type = ChangeState
trigger1 = var(17) = [0,32]
trigger2 = command = "hold_x"
value = 181

[State 180, 3]
type = ChangeState
trigger1 = var(17) = [33,65]
trigger2 = command = "hold_y"
value = 182

[State 180, 4]
type = ChangeState
trigger1 = var(17) = [66,99]
trigger2 = command = "hold_z"
value = 183

;-------------------------------------------------------------
; Win_a
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 181, begin]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = roundnotover

[State 181, 1]
type = PlaySnd
trigger1 = Time = 0
value = 181, 0

;-------------------------------------------------------------
; Win_b
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 182, begin]
type = AssertSpecial
trigger1 = Time = [0,120]
flag = roundnotover

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 182, 0

;-------------------------------------------------------------
; Win_c
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0,0

[State 182, begin]
type = AssertSpecial
trigger1 = Time = [0,140]
flag = roundnotover

[State 183, 1]
type = PlaySnd
trigger1 = Time = 0
value = 183, 0

;---------------------------------------------------------
; Intro Initiate
[Statedef 190]
type = S

[State 190, 1]
type = ChangeState
trigger1 = p2name = "Chris"
trigger2 = p4name = "Chris"
value = 192

[State 190, 2]
type = ChangeState
trigger1 = p2name = "Iori"
trigger2 = p4name = "Iori"
trigger3 = p2name = "Iori Yagami"
trigger4 = p4name = "Iori Yagami"
trigger5 = p2name = "Shin Iori"
trigger6 = p4name = "Shin Iori"
trigger7 = p2name = "Kvs Iori"
trigger8 = p4name = "Kvs Iori"
trigger9 = p2name = "Iori Yagami 95'"
trigger10 = p4name = "Iori Yagami 95'"
trigger11 = p2name = "Iori Yagami 96'"
trigger12 = p4name = "Iori Yagami 96'"
trigger13 = p2name = "Iori Yagami 97'"
trigger14 = p4name = "Iori Yagami 97'"
trigger15 = p2name = "Iori Yagami 98'"
trigger16 = p4name = "Iori Yagami 98'"
trigger17 = p2name = "Iori Yagami 99'"
trigger18 = p4name = "Iori Yagami 99'"
trigger19 = p2name = "Orochi Yagami"
trigger20 = p4name = "Orochi Yagami"
value = 193

[State 190, 4]
type = ChangeState
trigger1 = p2name = "Shermie"
trigger2 = p4name = "Shermie"
value = 196

[State 190, 5]
type = ChangeState
trigger1 = Time = 0
value = 191

;---------------------------------------------------------
; Introduction_1
[Statedef 191]
type   = S
physics= N
ctrl = 0
anim = 191

[State 191, 1]
type = AssertSpecial
trigger1 = time = [0,200]
flag = intro

[State 191, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,1

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 15
value = 191,2

[State 191, 4]
type = VelSet
trigger1 = AnimElem = 17
y = -9

[State 191, 5]
type = VelAdd
trigger1 = Time >= 151
y = .42

[State 191, 6]
type = ChangeState
trigger1 = Vel Y > 0 
trigger1 = Pos Y >= 0 
value = 194

;---------------------------------------------------------
; Introduction_1 (Landing)
[Statedef 194]
type    = S
movetype= I
physics = S
anim = 47
velset = 0,0
ctrl = 0

[State 194, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 194, 6]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 0

;---------------------------------------------------------
; Intro vs. Chris
[Statedef 192]
type = S
anim = 192

[State 192, 1]
type = Assertspecial
trigger1 = Time = [0,123]
flag = intro

[State 191, 2]
type = PlaySnd
trigger1 = Time = 68
value = 191, 0

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------
; Intro vs. Iori Yagami
[Statedef 193]
type = S
anim = 193

[State 193, 1]
type = AssertSpecial
trigger1 = Time = [0,341]
flag = intro

[State 193, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 193,0

[State 193, 2]
type = PlaySnd
trigger1 = Time = 290
value = 193,1

[State 193, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------
; Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 200
ctrl = 0
poweradd = 40

[State 200, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 200, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 20
guardflag = M
pausetime = 10,10
sparkno = 0
sparkxy = -5,-71
hitsound = S2200,2
guardsound = 6,0
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Punch (Close)
[Statedef 203]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 203
ctrl = 0
poweradd = 40

[State 203, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 200, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 203, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 30
sparkno = 0
guardflag = M
pausetime = 10,10
sparkxy = -15,-102
hitsound = S2200,2
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

[State 203, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Elbow Slam
[Statedef 205]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 205
ctrl = 0
poweradd = 100

[State 205, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,0

[State 205, 0.1]
type = PlaySnd
trigger1 = Time = 11
value = 2100,1

[State 205, 1]
type = EnvShake
trigger1 = AnimElem = 7
time = 15
ampl = -6
freq = 92
phase = 92

[State 205, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 100
guardflag = MA
pausetime = 13,12
sparkno = -1
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 0
ground.hittime = 25
ground.velocity = -0,-0.1
air.velocity = 0,3
down.velocity = 0,0
down.hittime = 80
fall = 1
fall.recover = 0

[State 205, 3]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 205, 4]
type = PosAdd
trigger1 = AnimElem = 3
x = 36

[State 205, 5]
type = PosAdd
trigger1 = AnimElem = 4
x = 24

[State 205, 6]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 16

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Elbow Slam (w/o knockdown)
[Statedef 207]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 207
ctrl = 0
poweradd = 100

[State 207, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,0

[State 205, 0.1]
type = PlaySnd
trigger1 = Time = 11
value = 2100,1

[State 207, 1]
type = EnvShake
trigger1 = AnimElem = 7
time = 15
ampl = -6
freq = 92
phase = 92

[State 207, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 30
guardflag = MA
pausetime = 13,12
sparkno = -1
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4.8
air.velocity = -4,-2

[State 207, 3]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 207, 4]
type = PosAdd
trigger1 = AnimElem = 3
x = 36

[State 207, 5]
type = PosAdd
trigger1 = AnimElem = 4
x = 24

[State 207, 6]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 5

[State 207, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 207, 8]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 2500
value = 3070

[State 207, 9]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 1500
value = 3040

[State 207, 10]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 2080

;---------------------------------------------------------
; Hard Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 210
ctrl = 0
poweradd = 60

[State 210, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 70
guardflag = M
pausetime = 12,12
sparkxy = -10,-75
hitsound = S2200,4
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.type = Low
air.velocity = -4,-3

[State 210, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 207

;---------------------------------------------------------
; Hard Punch (Close)
[Statedef 215]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 215
ctrl = 0
poweradd = 60

[State 215, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 215, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 215, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 70
guardflag = MA
pausetime = 12,12
sparkxy = -30,-85
hitsound = S2200,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.type = Low
air.velocity = -4,-3

[State 215, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215, 3]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 207

;---------------------------------------------------------
; Knockdown Attack (A)
[Statedef 220]
type    = S
movetype= A
physics = S
juggle = 20
velset = 0
anim = 220
ctrl = 0
poweradd = 100

[State 220, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,1

[State 220, 0.1]
type = PlaySnd
trigger1 = Time = 10
value = 2100,1

[State 220, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 100
guardflag = M
pausetime = 15,12
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-3.3
air.velocity = -3.5,-3
fall = 1
fall.recover = 0

[State 220, 2]
type = VelSet
trigger1 = Time = 17
x = 9

[State 220, 4]
type = VelAdd
trigger1 = Time = 19
x = -0.4

[State 220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Knockdown Attack (B)
[Statedef 225]
type    = S
movetype= A
physics = S
juggle = 20
velset = 0
anim = 225
ctrl = 0
poweradd = 100

[State 225, 0]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 225, 0.1]
type = PlaySnd
trigger1 = Time = 6
value = 2100,1

[State 225, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 100
guardflag = M
pausetime = 15,12
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-3.3
air.velocity = -3.5,-3
fall = 1
fall.recover = 0

[State 225, 2]
type = VelSet
trigger1 = Time = 10
x = 9

[State 225, 4]
type = VelAdd
trigger1 = Time = 12
x = -0.4

[State 225, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Guard Cancel
[Statedef 227]
type    = S
movetype= A
physics = S
juggle  = 20
velset = 0
anim = 227
ctrl = 0
poweradd= -1000

[State 227, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 227, 1]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2100,1

[State 227, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
ignorehitpause = 1
persistent = 0
time = 5
under = 1

[State 227, 3]
type = Explod
trigger1 = Time = 0
anim = 6060
sprpriority = 4
postype = p1
pos = -13, -84
supermove = 1

[State 227, 4]
type = VelSet
trigger1 = Time = 12
x = 9

[State 227, 5]
type = VelAdd
trigger1 = Time = 14
x = -0.4

[State 227, 6]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 100
guardflag = M
pausetime = 15,12
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4.2,-4.3
air.velocity = -3.7,-4
fall = 1
fall.recover = 0

[State 227, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 230
ctrl = 0
poweradd = 40

[State 230, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 230, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 230, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 30
guardflag = M
pausetime = 10,10
sparkxy = -10,-72
sparkno = 0
hitsound = S2200,3
guardsound = 6,0
ground.type = Low 
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-2

[State 230, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Kick (Close)
[Statedef 233]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 233
ctrl = 0
poweradd = 40

[State 233, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 233, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 233, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 40
guardflag = M
pausetime = 10,10
sparkxy = -30,-77
sparkno = 0
hitsound = S2200,3
guardsound = 6,0
ground.type = Low 
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-2

[State 233, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Low Side Kick
[Statedef 235]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 235
ctrl = 0
poweradd = 100

[State 235, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 235,0

[State 235, 0.1]
type = PlaySnd
trigger1 = Time = 5
value = 2100,0

[State 235, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = 3

[State 235, 2]
type = PosAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
x = -2

[State 235, 3]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 85
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound = S2200,5
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -6
air.velocity = -4,-3

[State 235, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 207, 5]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 2500
value = 3005

[State 207, 6]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 1500
value = 3000

[State 207, 7]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 2075


;---------------------------------------------------------
; Hard Kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 240
ctrl = 0
poweradd = 60

[State 240, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 240, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 240, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 80
guardflag = MA
pausetime = 12,12
sparkxy = -13,-90
hitsound = S2200,5
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -4,-3

[State 240, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Hard Kick (Close)
[Statedef 245]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 245
ctrl = 0
poweradd = 60

[State 245, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 245, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 245, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 80
guardflag = M
pausetime = 12,12
sparkxy = -35,-50
hitsound = S2200,5
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -4,-3

[State 245, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 245, 3]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 235

;---------------------------------------------------------
; Evade Forward
[Statedef 250]
type    = S
movetype= I
physics = S
velset = 0
anim = 250
ctrl = 0

[State 250, 0]
type = hitby
trigger1 = time=0
value = SCA,NT,ST,HT,AT
time=26

[State 250, 0]
type = Playerpush
trigger1 = 1
value = 0

[State 250, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 191,1

[State 250, 1]
type = AfterImage
trigger1 = Time = 3
time = 8
FrameGap = 2
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 250, 2]
type = SprPriority
trigger1 = AnimElem = 2
value = -2

[State 250, 3]
type = VelSet
trigger1 = AnimElem = 3, >=0
x = 5

[State 250, 4]
type = VelSet
trigger1 = AnimElem = 10, >=0
x = 0

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Evade Backward
[Statedef 251]
type    = S
movetype= I
physics = S
velset = 0
anim = 251
ctrl = 0

[State 250, 0]
type = Playerpush
trigger1 = 1
value = 0

[State 250, 0]
type = hitby
trigger1 = time=0
value = SCA,NT,ST,HT,AT
time=26

[State 251, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 191,1

[State 251, 1]
type = AfterImage
trigger1 = Time = 3
time = 8
FrameGap = 2
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 251, 2]
type = SprPriority
trigger1 = AnimElem = 2
value = -2

[State 251, 3]
type = VelSet
trigger1 = AnimElem = 4, >=0
x = -5

[State 251, 4]
type = VelSet
trigger1 = AnimElem = 11, >=0
x = 0

[State 251, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Guard Cancel (Evade Forward)
[Statedef 255]
type    = S
movetype= I
physics = S
velset = 0
anim = 255
ctrl = 0
poweradd= -1000

[State 250, 0]
type = Playerpush
trigger1 = 1
value = 0

[State 250, 0]
type = nothitby
trigger1 = time=0
value = SCA
time=30

[State 255, 1]
type = PlaySnd
trigger1 = Time = 0
value = 191,1

[State 255, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
ignorehitpause = 1
persistent = 0
time = 5
under = 1

[State 255, 3]
type = Explod
trigger1 = Time = 0
anim = 6060
sprpriority = 4
postype = p1
pos = -13, -84
supermove = 1

[State 255, 4]
type = VelSet
trigger1 = AnimElem = 4, >=0
x = 5

[State 255, 5]
type = VelSet
trigger1 = AnimElem = 11, >=0
x = 0

[State 255, 6]
type = AfterImage
trigger1 = Time = 8
time = 8
FrameGap = 2
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 255, 7]
type = SprPriority
trigger1 = AnimElem = 2
value = -2

[State 255, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Guard Cancel (Evade Backward)
[Statedef 256]
type    = S
movetype= I
physics = S
velset = 0
anim = 256
ctrl = 0
poweradd= -1000

[State 250, 0]
type = Playerpush
trigger1 = 1
value = 0

[State 250, 0]
type = nothitby
trigger1 = time=0
value = SCA
time=30

[State 256, 1]
type = PlaySnd
trigger1 = Time = 0
value = 191,1

[State 256, 2]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
ignorehitpause = 1
persistent = 0
time = 5
under = 1

[State 256, 3]
type = Explod
trigger1 = Time = 0
anim = 6060
sprpriority = 4
postype = p1
pos = -13, -84
supermove = 1

[State 256, 4]
type = VelSet
trigger1 = AnimElem = 4, >=0
x = -5

[State 256, 5]
type = VelSet
trigger1 = AnimElem = 11, >=0
x = 0

[State 256, 6]
type = AfterImage
trigger1 = Time = 8
time = 8
FrameGap = 2
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 256, 7]
type = SprPriority
trigger1 = AnimElem = 2
value = -2

[State 256, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Punch (Crouch)
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 3
velset = 0
ctrl = 0
anim = 400
poweradd = 40

[State 400, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 400, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
animtype = Light
damage = 20
guardflag = LA
pausetime = 10,10
sparkxy = -10,-62
sparkno = 0
hitsound = S2200,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

[State 400, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Hard Punch (Crouch)
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0
ctrl = 0
anim = 410
poweradd = 60

[State 410, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 410, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
animtype = Hard
damage = 75
guardflag = M
pausetime = 12,12
sparkxy = -15,-75
hitsound = S2200,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -3,-5.8

[State 410, 1]
type = HitDef
trigger1 = MoveContact =0
trigger1 = AnimElem = 4
attr = C, NA
animtype = Hard
damage = 75
guardflag = M
pausetime = 12,12
sparkxy = -10,-125
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -3,-6

[State 410, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Light Kick (Crouch)
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 3
velset = 0
ctrl = 0
anim = 430
poweradd = 40

[State 430, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 430, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 430, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
animtype = Light
damage = 30
sparkno = 0
guardflag = LA
pausetime = 10,10
sparkxy = -10,-6
hitsound = S2200,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-3

[State 430, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Hard Kick (Crouch)
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 15
velset = 0
ctrl = 0
anim = 440
poweradd = 60

[State 440, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 400, 0.1]
type = PlaySnd
trigger1 = Time = 8
value = 2100,1

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
animtype = Back
damage = 100
guardflag = L
pausetime = 12,12
sparkxy = -15,-37
hitsound = S2200,5
guardsound = 6,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -2,-5
air.velocity = -4,-4
fall = 1

[State 440, 2]
type = HitDef
trigger1 = MoveHit =0
trigger1 = AnimElem = 8
attr = C, NA
animtype = Back
damage = 100
guardflag = L
pausetime = 12,12
sparkxy = -15,-37
hitsound = S2000,5
guardsound = 6,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -2,-5
air.velocity = -4,-4
fall = 1

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Weak Punch (Jump)
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 600
poweradd = 40

[State 600, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 600, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 600, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Light
damage = 30
guardflag = H
pausetime = 10,10
sparkno = 0
sparkxy = -8,-60
hitsound = S2200,2
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

;---------------------------------------------------------
; Hard Punch (Jump)
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0
anim = 610
poweradd = 60

[State 610, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 610, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Med
damage = 88
guardflag = H
pausetime = 12,12
sparkxy = -5,-65
hitsound = S2200,4
guardsound = 6,0
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8
air.velocity = -3,-3

;---------------------------------------------------------
; Knockdown Attack (Jump)
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 20
ctrl = 0
anim = 620
poweradd = 100

[State 620, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,1

[State 620, 0.1]
type = PlaySnd
trigger1 = Time = 5
value = 2100,1

[State 620, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 100
guardflag = H
pausetime = 15,12
sparkxy = -10,-97
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0

;---------------------------------------------------------
; Weak Kick (Jump)
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 630
poweradd = 30

[State 630, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 630, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 630, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Light
damage = 45
sparkno = 0
guardflag = H
pausetime = 10,10
sparkxy = -5,-93
hitsound = S2200,3
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-3

;---------------------------------------------------------
; Hard Kick (Jump)
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0
anim = 640
poweradd = 60

[State 640, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 640, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 640, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Light
damage = 100
guardflag = H
pausetime = 12,12
sparkxy = -8,-78
hitsound = S2200,5
guardsound = 6,0
ground.type = high
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -4,-3

;---------------------------------------------------------
; Gut Punch (Attempt)
[Statedef 700]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 700

[State 700, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M
guardflag = 
priority = 1
pausetime = 0,0
snap = -40, 0, 0
sparkno = -1
p2facing = 1
p1stateno = 710
p2stateno = 705
p2getp1state = 1
hitsound = S2200,0

[State 700, 2]
type = ChangeState
trigger1 = MoveContact = 1
value = 710

[State 700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Gut Punch (Thrown)
[Statedef 705]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0

[State 705, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 705

[State 705, 2]
type = PosAdd
trigger1 = AnimElem = 1
x = -70

[State 705, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = -20
y = -90

[State 705, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 706

;---------------------------------------------------------
; Gut Punch (Falling)
[Statedef 706]
type    = A
movetype= A
physics = N
velset = -5.5,-3.5
ctrl = 0
anim = 5070

[State 706, 1]
type = VelAdd
trigger1 = Time >= 0
y = .47

[State 706, 2]
type = PosAdd
trigger1 = Time = 0
x = 10
y = 45

[State 706, 3]
type = LifeAdd
trigger1 = Time = 0
value = -125

[State 706, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 707

;-------------------------------------------------------------
; Gut Punch (Bounce)
[Statedef 707]
type    = A
movetype= H
physics = N
velset = 0

[State 707, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 707, 2]
type = VelSet
trigger1 = time = 0
x = -4.2
y = -6

[State 707, 3]
type = SelfState
trigger1 = Time = 0
value = 5100

;---------------------------------------------------------
; Gut Punch (Success)
[Statedef 710]
type    = S
movetype= A
physics = N
anim = 701
velset = 0

[State 710, 1]
type = TargetBind
trigger1 = AnimElem = 1
value = 20
time = 25

[State 710, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 200,0

[State 710, 3]
type = EnvShake
trigger1 = AnimElem = 8
time = 12
ampl = -6
freq = 90
phase = 90

[State 710, 4]
type = PlaySnd
trigger1 = Time = 11
value = 2100,1

[State 710, 5]
type = PlaySnd
trigger1 = AnimElem = 8
value = 2200,6

[State 710, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Throat Grab & Slam (Attempt)
[Statedef 720]
type = S
movetype = A
physics = S
ctrl = 0
anim = 720
velset = 0

[State 720, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M
guardflag = 
priority = 1
snap = 26, 0, 0, 1
sparkno = -1
p2facing = 1
p1stateno = 730
p2stateno = 725
p2getp1state = 1
hitsound = S2200,0

[State 720, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Throat Grab & Slam (Thrown)
[Statedef 725]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0

[State 725, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 725

[State 725, 2]
type = VelSet
trigger1 = AnimTime = 0
x = 4.5
y = -8

[State 725, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 5100

;---------------------------------------------------------
; Throat Grab & Slam (Success)
[Statedef 730]
type    = S
movetype= A
physics = N
anim = 721
velset = 0

[State 730, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2100,3

[State 730, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 8
value = -125

[State 730, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 2200,7

[State 730, 3]
type = EnvShake
trigger1 = AnimElem = 8
time = 20
ampl = -6
freq = 90
phase = 90

[State 730, 4]
type = Turn
trigger1 = AnimTime = 0

[State 730, 5]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 30,-88

[State 730, 6]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 18,-119

[State 730, 7]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 11,-138

[State 730, 8]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 20,-134

[State 730, 9]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 10,-131

[State 730, 10]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 23,-116

[State 730, 11]
type = TargetBind
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
pos = -64,-109

[State 730, 12]
type = TargetBind
trigger1 = AnimElem = 8, >= 0
trigger1 = AnimElem = 9, < 0
pos = -93,-3

[State 730, 13]
type = PosAdd
trigger1 = AnimTime = 0
x = 25

[State 730, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Duel Upper (Attemp.Light)
[Statedef 2030]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 2030
ctrl = 0
poweradd = 100

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 2030, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2030,0

[State 2030, 1]
type = PosAdd
trigger1 = Time = 0
x = 10

[State 2030, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Med
damage = 55,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 2030, 3]
type = ChangeState
trigger1 = MoveContact = 1
value = 2031

[State 2030, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Duel Upper (Success.Light.A)
[Statedef 2031]
type    = S
movetype= A
physics = S
velset = 0
anim = 2031
ctrl = 0

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 2031, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 5

[State 2031, 2]
type = PosAdd
trigger1 = Time = 0
x = 15

[State 2031, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 2032

;---------------------------------------------------------
; Duel Upper (Success.Light.B)
[Statedef 2032]
type    = A
movetype= A
physics = N
juggle = 10
velset = 4,-6.4
anim = 2032

[State 2040, 0]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 2032, 1]
type = PosAdd
trigger1 = Time = 0
x = 5

[State 2032, 2]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 2032, 3]
type = VelAdd
trigger1 = Vel X > 0
x = -0.39

[State 2032, 4]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 2032, 5]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
animtype = Hard
damage = 65,5
guardflag = M
sparkxy = -10,-150
pausetime = 15,12
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 13
ground.hittime = 18
ground.velocity = -1.3,-7.7
air.velocity = -1.3,-7.7
fall = 1
fall.recover = 0

[State 2032, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------
; Duel Upper (Attempt.Hard)
[Statedef 2035]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 2035
ctrl = 0
poweradd = 100

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 2035, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2030,0

[State 2035, 1]
type = PosAdd
trigger1 = Time = 0
x = 10

[State 2035, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Med
damage = 40,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0
air.velocity = -1.5,-2

[State 2035, 3]
type = ChangeState
trigger1 = MoveContact = 1
value = 2036

[State 2035, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Duel Upper (Success.Hard.A)
[Statedef 2036]
type    = S
movetype= A
physics = S
velset = 0
anim = 2036
ctrl = 0

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 2036, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 5

[State 2036, 2]
type = PosAdd
trigger1 = Time = 1
x = 15

[State 2036, 3]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Med
damage = 45,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 2036, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 2037

;---------------------------------------------------------
; Duel Upper (Success.Hard.B)
[Statedef 2037]
type    = A
movetype= A
physics = N
juggle = 10
velset = 8,-8.7
anim = 2037

[State 2040, 0]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 2037, 1]
type = PosAdd
trigger1 = Time = 0
x = 10

[State 2037, 2]
type = VelAdd
trigger1 = Time > 0
y = .53

[State 2037, 3]
type = VelAdd
trigger1 = Vel X > 0
x = -0.4

[State 2037, 4]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 2037, 5]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
animtype = Hard
damage = 50,5
guardflag = M
sparkxy = -15,-120
pausetime = 15,12
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 13
ground.hittime = 18
ground.velocity = -1.5,-7.7
air.velocity = -1.5,-7.7
fall = 1
fall.recover = 0

[State 2037, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------
; Sledgehammer (Start.Light)
[Statedef 2040]
type    = S
movetype= I
physics = S
velset = 0
anim = 10
ctrl = 0
poweradd = 100

[State 2040, 0]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 2040, 0]
type = PlaySnd
trigger1 = Time = 0
value = 2040,0

[State 2040, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2041

;---------------------------------------------------------
; Sledgehammer (Jump.Light)
[Statedef 2041]
type    = A
movetype= A
physics = N
velset = 4.5,-6
anim = 2040

[State 2041,0]
type=NotHitBy
trigger1=Time=[0,25]
value=SC,NA,NP,SP,HP

[State 2041, 1]
type = VelAdd
trigger1 = Time > 0
y = .45

[State 2041, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 150,5
guardflag = H
animtype = Up
sparkxy = -10,-60
pausetime = 15,12
hitsound = S2200,6
guardsound = 6,0
ground.slidetime = 0
ground.hittime = 20
ground.velocity = 0,10
air.velocity = 0,5
fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = -3.5

[State 2041, 3]
type = EnvShake
trigger1 = MoveHit = 1
time = 15
ampl = -6
freq = 92
phase = 92

[State 2041, 4]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2042

;---------------------------------------------------------
; Sledgehammer (Land.Light)
[Statedef 2042]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 2041

[State 2042, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2042, 2]
type = PlaySnd
trigger1 = Time = 1
value = 40,2

[State 2042, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Sledgehammer (Start.Hard)
[Statedef 2045]
type    = S
movetype= I
physics = S
velset = 0
anim = 3080
ctrl = 0
poweradd = 100

[State 2040, 0]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 2045, 0]
type = PlaySnd
trigger1 = Time = 0
value = 2040,0

[State 2045, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2046

;---------------------------------------------------------
; Sledgehammer (Jump.Hard)
[Statedef 2046]
type    = A
movetype= A
physics = N
velset = 6.5,-6
anim = 3081

[State 2046, 1]
type = VelAdd
trigger1 = Time > 0
y = .55

[State 2041,0]
type=NotHitBy
trigger1=Time=[0,25]
value=SC,NA,NP,SP,HP

[State 2046, 2]
type = VelAdd
trigger1 = Time > 10
x = -0.1

[State 2046, 3]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 150,5
guardflag = H
sparkxy = -10,-60
animtype = Up
pausetime = 15,12
hitsound = S2200,6
guardsound = 6,0
ground.slidetime = 0
ground.hittime = 20
ground.velocity = 0,10
air.velocity = 0,5
fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = -3.5

[State 2046, 4]
type = EnvShake
trigger1 = MoveHit = 1
time = 15
ampl = -6
freq = 92
phase = 92

[State 2046, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2047

;---------------------------------------------------------
; Sledgehammer (Land.Hard)
[Statedef 2047]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3082

[State 2046, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2046, 2]
type = PlaySnd
trigger1 = Time = 1
value = 40,2

[State 2046, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Mighty Missile Bash (Light)
[Statedef 2070]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 2070
ctrl = 0
poweradd = 100

[State 2070, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2070,0

[State 2070, 0]
type = PlaySnd
trigger1 = AnimElem = 9
value = 2070,1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
value = 2100,1

[State 2070, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = Hard
damage = 45,5
guardflag = MA
pausetime = 9,9
sparkxy = -15,-80
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 2070, 2]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
animtype = Hard
damage = 80
guardflag = M
pausetime = 15,12
sparkxy = -15,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-9
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 2070, 3]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
x = 3.7

[State 2070, 4]
type = VelSet
trigger1 = AnimElem = 10
x = 1.7

[State 2070, 5]
type = PosAdd
trigger1 = AnimElem = 13
x = 12

[State 2070, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Mighty Missile Bash (Hard)
[Statedef 2075]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 2075
ctrl = 0
poweradd = 100

[State 2075, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2070,0

[State 2075, 0]
type = PlaySnd
trigger1 = AnimElem = 24
value = 2070,1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
value = 2100,1

[State 2075, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 22
attr = S, SA
animtype = Med
damage = 30,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-80
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 2075, 2]
type = HitDef
trigger1 = AnimElem = 14
attr = S, SA
animtype = Hard
damage = 30,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-71
hitsound = 5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 2075, 3]
type = HitDef
trigger1 = AnimElem = 28
attr = S, SA
animtype = Hard
damage = 70,5
guardflag = M
pausetime = 15,12
sparkxy = -20,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-9
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 2075, 3]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 12
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
trigger7 = AnimElem = 19
trigger8 = AnimElem = 20
trigger9 = AnimElem = 21
trigger10 = AnimElem = 22
x = 4.5

[State 2075, 3]
type = VelSet
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
x = 3.8

[State 2075, 4]
type = PosAdd
trigger1 = AnimElem = 28
x = 12

[State 2075, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Jet Counter (Light)
[Statedef 2080]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 2080
ctrl = 0
poweradd = 100

[State 2080, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2070,1

[State 2080, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 80,5
guardflag = MA
pausetime = 18,15
sparkxy = -15,-85
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8
air.velocity = -3.5,-3

[State 2080, 2]
type = EnvShake
trigger1 = Time = 4
time = 10
ampl = -6
freq = 93
phase = 93

[State 2080, 3]
type = VelSet
trigger1 = Time = [5,12]
x = 7

[State 2080, 4]
type = VelAdd
trigger1 = Time = 13
x = -0.9

[State 2080, 5]
type = NotHitBy
trigger1 = Time = 6
value = SCA
time = 12

[State 2080, 6]
type = Explod
trigger1 = AnimElem = 2
anim = 6010
sprpriority = 2
postype = p1
pos = -15,0

[State 2080, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Jet Finisher (Light)
[Statedef 2081]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 2081
ctrl = 0
poweradd = 40

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 2081, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2070,2

[State 2081, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 80,5
guardflag = MA
pausetime = 20,18
sparkxy = -15,-90
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -3.5,-3

[State 2080, 3]
type = PosAdd
trigger1 = Time = 0
x = 20

[State 2080, 4]
type = EnvShake
trigger1 = AnimElem = 5
time = 18
ampl = -7
freq = 95
phase = 95

[State 2080, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Jet Counter (Hard)
[Statedef 2085]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 2085
ctrl = 0
poweradd = 100

[State 2080, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2070,1

[State 2080, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 80,5
guardflag = MA
pausetime = 18,15
sparkxy = -18,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8.5
air.velocity = -3.5,-3

[State 2080, 2]
type = EnvShake
trigger1 = Time = 4
time = 10
ampl = -6
freq = 93
phase = 93

[State 2080, 3]
type = VelSet
trigger1 = Time = [5,16]
x = 7

[State 2080, 4]
type = VelAdd
trigger1 = Time = 17
x = -0.9

[State 2080, 5]
type = NotHitBy
trigger1 = Time = 6
value = SCA
time = 15

[State 2080, 6]
type = Explod
trigger1 = AnimElem = 2
anim = 6010
sprpriority = 2
postype = p1
pos = -15,0

[State 2080, 7]
type = PosAdd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
trigger3 = AnimElem = 12
trigger4 = AnimElem = 13
trigger5 = AnimElem = 14
trigger6 = AnimElem = 15
x = 5

[State 2080, 8]
type = PosAdd
trigger1 = AnimElem = 16
x = 13

[State 2080, 9]
type = PosAdd
trigger1 = AnimElem = 17
x = 29

[State 2080, 10]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 11

[State 2080, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Jet Finisher (Hard)
[Statedef 2086]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 2086
ctrl = 0
poweradd = 40

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 2086, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2070,2

[State 2086, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 80,5
guardflag = MA
pausetime = 20,18
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.4,-9.6
air.velocity = -1.1,-6.9
fall = 1
fall.recover = 0

[State 2080, 3]
type = EnvShake
trigger1 = AnimElem = 4
time = 18
ampl = -7
freq = 95
phase = 95

[State 2080, 4]
type = PosAdd
trigger1 = Time = 0
x = 20

[State 2080, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Million Bash Stream
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 3000
ctrl = 0
poweradd = -1000

[State 3000, 0]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000, 0

[State 3000, 0.1]
type = PlaySnd
trigger1 = Time = 0
value = 105,1

[State 3000, 0]
type = AfterImage
trigger1 = AnimElem = 7
time = 60
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3000, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 3000, 2]
type = SuperPause
trigger1 = AnimElem = 1
time = 32
movetime = 32
anim = -1

[State 3000, 3]
type = Explod
trigger1 = Time = 4
anim = 6020
sprpriority = -2
postype = p1
pos = -32,-100
bindtime = 1
supermove = 1

[State 3000, 4]
type = Explod
trigger1 = Time = 4
anim = 6030
sprpriority = 4
postype = p1
pos = -32,-100
bindtime = 1
supermove = 1

[State 3000, 5]
type = EnvColor
trigger1 = time = 2
ignorehitpause = 1
persistent = 0
time = 2
value = 255,255,255
under = 1

[State 3000, 5]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 40
trigger2 = Time = 48
trigger3 = Time = 64
trigger4 = Time = 72
trigger5 = Time = 84
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3000, 6]
type = VelSet
trigger1 = AnimElem = 7, >=0
x = 3

[State 3000, 7]
type = VelSet
trigger1 = AnimElem = 31, >=0
x = 0

[State 3000, 8]
type = VarSet
triggerall = var(30)=0
triggerall = AnimElem = 9, >=0
triggerall = AnimElem = 15, < 0
trigger1 = command = "x"
trigger2 = command = "y"
var(2) = 1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 20
trigger4 = AnimElem = 25
trigger5 = AnimElem = 31
value = 2100,1

[State 3000, 9]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 22
attr = S, SA
animtype = Med
damage = 25,5
guardflag = MA
pausetime = 6,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3000, 10]
type = HitDef
trigger1 = AnimElem = 14
trigger2 = AnimElem = 27
attr = S, SA
animtype = Hard
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3000, 11]
type = HitDef
trigger1 = AnimElem = 33
attr = S, SA
animtype = Hard
damage = 55,5
guardflag = M
pausetime = 15,12
sparkxy = -20,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.7,-9.2
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 3001, 12]
type = movehitreset
trigger1 = AnimElem = 26,1

[State 3001, 12]
type = ChangeState
triggerall = AnimElem = 31
trigger1 = var(30)=0
trigger1 = Var(2) = 1
trigger2 = var(30)
trigger2 = movehit
value = 3001
ctrl = 1

[State 3001, 13]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Var(2) = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3001]
type    = S
movetype= A
physics = S
;juggle = 15
velset = 0
anim = 3001
ctrl = 0

[State 3001, 0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3001, 1]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2

[State 3001, 2]
type = VelSet
trigger1 = AnimElem = 15, >=0
x = 0

[State 3001, 3]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 3001, 3]
type = VarSet
triggerall = var(30)=0
triggerall = AnimElem = 9, >=0
triggerall = AnimElem = 15, < 0
trigger1 = command = "x"
trigger2 = command = "y"
var(2) = 1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = 2100,1

[State 3001, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Med
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3001, 5]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3001, 6]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Hard
damage = 55,5
guardflag = M
pausetime = 15,12
sparkxy = -20,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.7,-9.2
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 3001, 7]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 8
trigger2 = Time = 16
trigger3 = Time = 28
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3001, 12]
type = movehitreset
trigger1 = AnimElem = 9,1

[State 3001, 8]
type = ChangeState
triggerall = AnimElem = 14
trigger1 = var(30)=0
trigger1 = Var(2) = 1
trigger2 = var(30)
trigger2 = movehit
value = 3002
ctrl = 1

[State 3001, 9]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Var(2) = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3002]
type    = S
movetype= A
physics = S
;juggle = 15
velset = 0
anim = 3001
ctrl = 0

[State 3002, 0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3002, 1]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2

[State 3002, 2]
type = VelSet
trigger1 = AnimElem = 15, >=0
x = 0

[State 3002, 3]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 3002, 3]
type = Varset
triggerall = var(30)=0
triggerall = AnimElem = 9, >=0
triggerall = AnimElem = 15, < 0
trigger1 = command = "x"
trigger2 = command = "y"
var(2) = 1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = 2100,1

[State 3002, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Med
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3002, 5]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3002, 6]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Hard
damage = 55,5
guardflag = M
pausetime = 15,12
sparkxy = -20,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.7,-9.2
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 3002, 7]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 8
trigger2 = Time = 16
trigger3 = Time = 28
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3001, 12]
type = movehitreset
trigger1 = AnimElem = 9,1

[State 3002, 8]
type = ChangeState
triggerall = AnimElem = 14
trigger1 = var(30)=0
trigger1 = Var(2) = 1
trigger2 = var(30)
trigger2 = movehit
value = 3003
ctrl = 1

[State 3002, 9]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Var(2) = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3003]
type    = S
movetype= A
physics = S
;juggle = 15
velset = 0
anim = 3001
ctrl = 0

[State 3003, 0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3003, 1]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2

[State 3003, 2]
type = VelSet
trigger1 = AnimElem = 15, >=0
x = 0

[State 3003, 3]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 3003, 3]
type = Varset
triggerall = var(30)=0
triggerall = AnimElem = 9, >=0
triggerall = AnimElem = 15, < 0
trigger1 = command = "x"
trigger2 = command = "y"
var(2) = 1

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = 2100,1

[State 3003, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Med
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3003, 5]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3003, 6]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Hard
damage = 55,5
guardflag = M
pausetime = 15,12
sparkxy = -20,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.7,-9.2
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 3003, 7]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 8
trigger2 = Time = 16
trigger3 = Time = 28
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3001, 12]
type = movehitreset
trigger1 = AnimElem = 9,1

[State 3003, 8]
type = ChangeState
triggerall = AnimElem = 14
trigger1 = var(30)=0
trigger1 = Var(2) = 1
trigger2 = var(30)
trigger2 = movehit
value = 3004
ctrl = 1

[State 3003, 9]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Var(2) = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3004]
type    = S
movetype= A
physics = S
;juggle = 15
velset = 0
anim = 3001
ctrl = 0

[State 3004, 0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3004, 1]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2

[State 3004, 2]
type = VelSet
trigger1 = AnimElem = 15, >=0
x = 0

[State 3004, 3]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
value = 2100,1

[State 3004, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Med
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3004, 5]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 25,5
guardflag = MA
pausetime = 7,8
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3004, 6]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Hard
damage = 55,5
guardflag = M
pausetime = 15,12
sparkxy = -20,-70
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.7,-9.2
air.velocity = -1.3,-7
fall = 1
fall.recover = 0

[State 3004, 7]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 8
trigger2 = Time = 16
trigger3 = Time = 28
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3004, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Million Bash Stream (SDM)a
[Statedef 3005]
type    = S
movetype= A
physics = S
velset = 0
juggle = 5
anim = 3005
ctrl = 0
poweradd = -2000

[State 3005, 0]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000, 0

[State 3005, 0.1]
type = PlaySnd
trigger1 = Time = 0
value = 105,1

[State 3005, 0]
type = AfterImage
trigger1 = AnimElem = 7
time = 60
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3005, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 3005, 2]
type = SuperPause
trigger1 = Time = 0
time = 29
movetime = 29
anim = -1

[State 3005, 3]
type = Explod
trigger1 = Time = 4
anim = 6040
sprpriority = -2
postype = p1
pos = -32,-100
bindtime = 1
supermove = 1

[State 3005, 4]
type = Explod
trigger1 = Time = 4
anim = 6050
sprpriority = 4
postype = p1
pos = -32,-100
bindtime = 1
supermove = 1

[State 3005, 5]
type = EnvColor
trigger1 = time = 2
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3005, 5]
type = EnvColor
triggerall = movehit = 1
trigger1 = time = 41
trigger2 = time = 46
trigger3 = time = 56
trigger4 = time = 61
trigger5 = time = 70
trigger6 = time = 82
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 2075, 3]
type = VelSet
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 14
trigger5 = AnimElem = 15
trigger6 = AnimElem = 16
trigger7 = AnimElem = 21
trigger8 = AnimElem = 22
trigger9 = AnimElem = 23
trigger10 = AnimElem = 26
trigger11 = AnimElem = 27
trigger12 = AnimElem = 38
x = 4.8

[State 2075, 3]
type = VelSet
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
trigger3 = AnimElem = 24
trigger4 = AnimElem = 39
x = 4

[State 3005, 8]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 26
trigger1 = command = "hold_x"
trigger2 = AnimElem = 26
trigger2 = command = "hold_y"
trigger3 = AnimElem = 27
trigger3 = command = "hold_x"
trigger4 = AnimElem = 27
trigger4 = command = "hold_y"
trigger5 = AnimElem = 28
trigger5 = command = "hold_x"
trigger6 = AnimElem = 28
trigger6 = command = "hold_y"
value = 3006

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 24,0

[State 3005, 8]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 28
trigger1 = movehit
value = 3006

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 34
value = 2100,1

[State 3005, 9]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 21
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0
air.velocity = -2,-2

[State 3005, 10]
type = HitDef
trigger1 = AnimElem = 13
trigger2 = AnimElem = 25
attr = S, SA
animtype = Hard
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0
air.velocity = -2,-2

[State 3005, 11]
type = HitDef
trigger1 = AnimElem = 31
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3005, 12]
type = PosAdd
trigger1 = AnimElem = 32
x = 15

[State 3005, 13]
type = HitDef
trigger1 = AnimElem = 36
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3005, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3006]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3006, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3006, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3006, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3006, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3006, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3007

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3006, 5]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3007

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
value = 2100,1

[State 3006, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3006, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3006, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3005, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3006, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3006, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3007]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3007, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3007, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3007, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3007, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3007, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3008

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3007, 5]
type = ChangeState
trigger1 = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3008

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
value = 2100,1

[State 3007, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3007, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3007, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3007, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3007, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3007, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3008]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3008, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3008, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3008, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3008, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3008, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3009

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3008, 5]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3009

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
value = 2100,1

[State 3008, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3008, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3008, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3008, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3008, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3008, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3009]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3009, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3009, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3009, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3009, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3009, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3010

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3009, 5]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3010

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
value = 2100,1

[State 3009, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3006, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3009, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3009, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3009, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3009, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3010]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3010, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3010, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3010, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3010, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3010, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3011

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3010, 5]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3011

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
value = 2100,1

[State 3010, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3010, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3010, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3010, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3010, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3010, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3011]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3011, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3011, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3011, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3011, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3011, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3015

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3011, 5]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3015

[State 210, 0.1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
value = 2100,1

[State 3011, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 16,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3011, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 34,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3011, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 34,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3011, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3011, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 50,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3011, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (SDM)b
[Statedef 3012]
type    = A
movetype= A
physics = N
velset = 8,-8.9
anim = 3006

[State 3012, 0]
type = EnvColor
trigger1 = time = 2
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3012, 0]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 3012, 1]
type = PosAdd
trigger1 = Time = 0
x = 10

[State 3012, 2]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 3012, 3]
type = VelAdd
trigger1 = Vel X > 0
x = -0.52

[State 3012, 4]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 3012, 5]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 65,5
hitflag = MAF
guardflag = M
sparkxy = -15,-120
pausetime = 16,12
hitsound = S2200,6
guardsound = 6,0
p2stateno = 3013
fall = 1

[State 3012, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;---------------------------------------------------------
; Hit by Million Bash Stream Uppercut (Shaking)
[Statedef 3013]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3013, 1]
type = ChangeAnim2
Trigger1 = Time >= 0
value = 3013

[State 3013, 2]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 3014

;---------------------------------------------------------
; Hit by Million Bash Stream Uppercut (Flying)
[Statedef 3014]
type    = A
movetype= H
physics = N
velset = -2.1,-13

[State 3014, 1]
type = VelAdd
trigger1 = Time > 0
y = .54

[State 3014, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3015]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3015, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3015, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3015, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3015, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3015, 5]
type = ChangeState
triggerall = var(30)=0
trigger1 = AnimElem = 11
trigger1 = command = "hold_x"
trigger2 = AnimElem = 11
trigger2 = command = "hold_y"
trigger3 = AnimElem = 12
trigger3 = command = "hold_x"
trigger4 = AnimElem = 12
trigger4 = command = "hold_y"
trigger5 = AnimElem = 13
trigger5 = command = "hold_x"
trigger6 = AnimElem = 13
trigger6 = command = "hold_y"
value = 3016

[State 3005, 8]
type = movehitreset
triggerall = var(30)
trigger1 = AnimElem = 9,0

[State 3015, 5]
type = ChangeState
triggerall = var(30)
trigger1 = AnimElem = 13
trigger1 = movehit
value = 3016

[State 3015, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 20,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3015, 7]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 40,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3015, 8]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 40,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3015, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3015, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 60,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3011, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Million Bash Stream (Continue)
[Statedef 3016]
type    = S
movetype= A
physics = S
velset = 0
anim = 3007
ctrl = 0

[State 3015, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3016, 2]
type = EnvColor
trigger1 = movehit = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3016, 3]
type = VelSet
trigger1 = AnimElem = 1, >=0
x = 2.3

[State 3016, 4]
type = VelSet
trigger1 = AnimElem = 14, >=0
x = 0

[State 3016, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Med
damage = 20,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-80
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3016, 6]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Hard
damage = 20,5
guardflag = MA
pausetime = 5,7
sparkxy = -20,-71
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -2,-2

[State 3016, 7]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Med
damage = 40,5
guardflag = M
pausetime = 30,20
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0
air.velocity = -1.5,-2

[State 3016, 8]
type = PosAdd
trigger1 = AnimElem = 18
x = 15

[State 3016, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA
animtype = Med
damage = 40,5
guardflag = M
pausetime = 15,12
sparkxy = -15,-75
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0.3,-9
air.velocity = -0.2,-7
fall = 1
fall.recover = 0

[State 3016, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3012

;---------------------------------------------------------
; Final Impact (Start Impact)
[Statedef 3040]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3040
ctrl = 0
poweradd = -1000

[State 3040, 1]
type = PlaySnd
trigger1 = Time = 0
value = 105,1

[State 3040, 2]
type = AfterImage
trigger1 = Time = 32
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3040, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 3040, 4]
type = SuperPause
trigger1 = Time = 0
time = 29
movetime = 29
anim = -1

[State 3000, 5]
type = Explod
trigger1 = Time = 4
anim = 6020
sprpriority = -2
postype = p1
pos = -12,-68
bindtime = 1
supermove = 1

[State 3040, 6]
type = Explod
trigger1 = Time = 4
anim = 6030
sprpriority = 4
postype = p1
pos = -12,-68
bindtime = 1
supermove = 1

[State 3040, 7]
type = EnvColor
trigger1 = time = 2
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3040, 7]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 1

[State 3040, 8]
type = VelSet
trigger1 = Time = [30,31]
x = 13

[State 3040, 9]
type = ChangeState
triggerall = var(30)
triggerall = AnimElem = 4
trigger1 = !enemy,numproj && p2bodydist x>=80
value = 3041

[State 3040, 9]
type = ChangeState
trigger1 = var(30)=0
trigger1 = AnimElem = 4
trigger1 = command = "hold_x"
value = 3041

[State 3040, 10]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 280,30
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -6.3,-5
air.velocity = -6.3,-5
fall = 1
fall.recover = 0

[State 3040, 11]
type = PlaySnd
trigger1 = Time = 30
value = 3040,0

[State 3040, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (1 Level Charge)
[Statedef 3041]
type    = S
movetype= A
physics = S
velset = 0
anim = 3041
ctrl = 0

[State 3000, 1]
type = ChangeState
trigger1 = !var(30)
trigger1 = command != "hold_x"
value = 3044

[State 3000, 1]
type = ChangeState
triggerall = var(30)
triggerall = p2stateno!=[5040,5999]
trigger1 = enemy,numproj
trigger2 = p2bodydist x<=80
trigger3 = p2bodydist x=[80,100]
trigger3 = p2statetype!=A && p2movetype=A || p2statetype=A && enemy,vel y>0 && enemy,pos y>=-70
value = 3044

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,1

[State 3000, 2]
type = ChangeState
trigger1 = !var(30)
trigger1 = AnimTime = 0
trigger1 = command = "hold_x"
value = 3042

[State 3000, 2]
type = ChangeState
trigger1 = var(30)
trigger1 = AnimTime = 0
value = 3042

;---------------------------------------------------------
; Final Impact (2nd Level Charge)
[Statedef 3042]
type    = S
movetype= A
physics = S
velset = 0
anim = 3042
ctrl = 0

[State 3000, 1]
type = ChangeState
trigger1 = !var(30)
trigger1 = command != "hold_x"
value = 3045

[State 3000, 1]
type = ChangeState
triggerall = var(30)
triggerall = p2stateno!=[5040,5999]
trigger1 = enemy,numproj
trigger2 = p2bodydist x<=80
trigger3 = p2bodydist x=[80,100]
trigger3 = p2statetype!=A && p2movetype=A || p2statetype=A && enemy,vel y>0 && enemy,pos y>=-70
value = 3045

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,2

[State 3000, 2]
type = ChangeState
trigger1 = !var(30)
trigger1 = AnimTime = 0
trigger1 = command = "hold_x"
trigger2 = var(30)
trigger2 = AnimTime = 0
value = 3043

;---------------------------------------------------------
; Final Impact (3rd Level Charge)
[Statedef 3043]
type    = S
movetype= A
physics = S
velset = 0
anim = 3043
ctrl = 0

[State 3000, 1]
type = ChangeState
trigger1 = !var(30)
trigger1 = command != "hold_x"
value = 3046

[State 3000, 1]
type = ChangeState
triggerall = var(30)
triggerall = p2stateno!=[5040,5999]
trigger1 = enemy,numproj
trigger2 = p2bodydist x<=80
trigger3 = p2bodydist x=[80,100]
trigger3 = p2statetype!=A && p2movetype=A || p2statetype=A && enemy,vel y>0 && enemy,pos y>=-70
value = 3046

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,3

[State 3000, 2]
type = ChangeState
trigger1 = !var(30)
trigger1 = AnimTime = 0
trigger1 = command = "hold_x"
trigger2 = var(30)
trigger2 = AnimTime = 0
value = 3047

;---------------------------------------------------------
; Final Impact (1st Level Strike)
[Statedef 3044]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3044, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3044, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3044, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3044, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3044, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 350,125
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -6.3,-5
air.velocity = -6.3,-5
fall = 1
fall.recover = 0

[State 3044, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (2nd Level Strike)
[Statedef 3045]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3045, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3045, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3045, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3045, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3045, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Dialup
damage = 400,150
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -6.8,-5.5
air.velocity = -6.8,-5.5
fall = 1
fall.recover = 0

[State 3045, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (3rd Level Strike)
[Statedef 3046]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3046, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3046, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3046, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3046, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3046, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Dialup
damage = 450,175
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -7.3,-5.5
air.velocity = -7.3,-5.5
fall = 1
fall.recover = 0

[State 3046, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (Max Level Strike)
[Statedef 3047]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3047, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3047, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3047, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3047, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3047, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Dialup
damage = 500,200
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -7.3,-5.5
air.velocity = -7.3,-5.5
fall = 1
fall.recover = 0

[State 3047, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; Standing
[Statedef 6000]
type    = S
physics = S
anim = 6000
velset = 0,0
ctrl = 1

[State 6000, 1]
type = ChangeAnim
trigger1 = Anim != 6000 && Anim != 6005
trigger2 = Anim = 6005 && AnimTime = 6000
value = 0

[State 6000, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 6000, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 6000, 4]
type = ChangeState
trigger1 = P2dist X < 0
value = 6005

[State 6000, 5]
type = ChangeState
triggerall = Time > 25
trigger1 = Win = 1
trigger2 = Lose = 1
value = 2050

[State 6000, 6]
type = ChangeState
triggerall = statetype = S
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
value = 6020

;---------------------------------------------------------
; Turning
[Statedef 6005]
type    = S
movetype= I
physics = S
anim = 5
ctrl = 1

[State 6005, 1]
type = Turn
trigger1 = Time = 0

[State 6005, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 6012]
type    = S
physics = S
anim = 12

[State 6012, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 6020]
type    = S
physics = S

[State 6020, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 6020, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 6020, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 6020, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 6020, 5]
type = ChangeState
trigger1 = Vel X = 0
value = 0

;---------------------------------------------------------------------------
; Jump Land
[Statedef 6052]
type    = S
physics = S
ctrl = 0
anim = 47

[State 6052, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 6052, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 6052, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 6052, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Punch
[Statedef 6200]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 201
ctrl = 0
poweradd = 40

[State 6200, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 200, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 45
guardflag = M
pausetime = 10,10
sparkxy = -5,-55
hitsound = S2200,2
guardsound = 6,0
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

[State 6200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Punch (Close)
[Statedef 6203]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 203
ctrl = 0
poweradd = 40

[State 6203, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 200, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6203, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 45
guardflag = M
pausetime = 10,10
sparkxy = -15,-102
hitsound = S2200,2
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

[State 6203, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Elbow Slam
[Statedef 6205]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 205
ctrl = 0
poweradd = 100

[State 6205, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,0

[State 205, 0.1]
type = PlaySnd
trigger1 = Time = 11
value = 2100,1

[State 6205, 1]
type = EnvShake
trigger1 = AnimElem = 7
time = 15
ampl = -6
freq = 92
phase = 92

[State 6205, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 115
guardflag = MA
pausetime = 13,12
sparkno = -1
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 0
ground.hittime = 25
ground.velocity = -0,-0.1
air.velocity = 0,3
down.velocity = 0,0
down.hittime = 80
fall = 1
fall.recover = 0

[State 6205, 3]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 6205, 4]
type = PosAdd
trigger1 = AnimElem = 3
x = 36

[State 6205, 5]
type = PosAdd
trigger1 = AnimElem = 4
x = 24

[State 6205, 6]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 16

[State 6205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Elbow Slam (w/o knockdown)
[Statedef 6207]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 207
ctrl = 0
poweradd = 100

[State 6207, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,0

[State 205, 0.1]
type = PlaySnd
trigger1 = Time = 11
value = 2100,1

[State 6207, 1]
type = EnvShake
trigger1 = AnimElem = 7
time = 15
ampl = -6
freq = 90
phase = 90

[State 6207, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 105
guardflag = MA
pausetime = 13,12
sparkno = -1
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime = 23
ground.velocity = -4.5
air.velocity = -4,-2

[State 6207, 3]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 6207, 4]
type = PosAdd
trigger1 = AnimElem = 3
x = 36

[State 6207, 5]
type = PosAdd
trigger1 = AnimElem = 4
x = 24

[State 6207, 6]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 5

[State 6207, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6207, 8]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 2021

;---------------------------------------------------------
; Hard Punch
[Statedef 6210]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 211
ctrl = 0
poweradd = 60

[State 6210, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 210, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 6210, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 85
guardflag = M
pausetime = 12,12
sparkxy = -10,-70
hitsound = S2200,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.type = Low
air.velocity = -4,-3

[State 6210, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6210, 5]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 6207

;---------------------------------------------------------
; Hard Punch (Close)
[Statedef 6215]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 215
ctrl = 0
poweradd = 60

[State 6215, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 215, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 6215, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 85
guardflag = MA
pausetime = 12,12
sparkxy = -30,-85
hitsound = S2200,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.type = Low
air.velocity = -4,-3

[State 6215, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6215, 3]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 2500
value = 3080

[State 6215, 4]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 1500
value = 3050

[State 6215, 5]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = random <= 100
value = 3030

[State 6215, 6]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = random <= 300
value = 6207

;---------------------------------------------------------
; Knockdown Attack
[Statedef 6220]
type    = S
movetype= A
physics = S
juggle = 20
velset = 0
anim = 220
ctrl = 0
poweradd = 100

[State 220, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,1

[State 220, 0.1]
type = PlaySnd
trigger1 = Time = 10
value = 2100,1

[State 220, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 115
guardflag = M
pausetime = 15,12
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-3.3
air.velocity = -3.5,-3
fall = 1
fall.recover = 0

[State 220, 2]
type = VelSet
trigger1 = Time = 17
x = 9

[State 220, 4]
type = VelAdd
trigger1 = Time = 19
x = -0.4

[State 220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Knockdown Attack (B)
[Statedef 6225]
type    = S
movetype= A
physics = S
juggle = 20
velset = 0
anim = 225
ctrl = 0
poweradd = 100

[State 6225, 0]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 225, 0.1]
type = PlaySnd
trigger1 = Time = 6
value = 2100,1

[State 6225, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 115
guardflag = M
pausetime = 15,12
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-3.3
air.velocity = -3.5,-3
fall = 1
fall.recover = 0

[State 6225, 2]
type = VelSet
trigger1 = Time = 10
x = 9

[State 6225, 4]
type = VelAdd
trigger1 = Time = 12
x = -0.4

[State 6225, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Light Kick
[Statedef 6230]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 230
ctrl = 0
poweradd = 40

[State 6230, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 230, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6230, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 55
guardflag = M
pausetime = 10,10
sparkxy = -10,-72
hitsound = S2200,3
guardsound = 6,0
ground.type = Low 
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-2

[State 6230, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Light Kick (close)
[Statedef 6233]
type    = S
movetype= A
physics = S
juggle = 3
velset = 0
anim = 233
ctrl = 0
poweradd = 40

[State 6233, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 233, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6233, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
damage = 55
guardflag = M
pausetime = 10,10
sparkxy = -30,-77
hitsound = S2200,3
guardsound = 6,0
ground.type = Low 
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-2

[State 6233, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Low Side Kick
[Statedef 6235]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 235
ctrl = 0
poweradd = 100

[State 6235, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 235,0

[State 235, 0.1]
type = PlaySnd
trigger1 = Time = 5
value = 2100,0

[State 6235, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = 3

[State 6235, 2]
type = PosAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
x = -2

[State 6235, 3]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Med
damage = 100
guardflag = M
pausetime = 10,10
sparkxy = -10,-70
hitsound = S2200,5
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -6
air.velocity = -4,-3

[State 6235, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6207, 5]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 2021

;---------------------------------------------------------
; Hard Kick
[Statedef 6240]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 240
ctrl = 0
poweradd = 60

[State 6240, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 240, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 6240, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 95
guardflag = M
pausetime = 9,10
sparkxy = -13,-90
hitsound = S2200,5
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -4,-3

[State 6240, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Hard Kick (Close)
[Statedef 6245]
type    = S
movetype= A
physics = S
juggle = 5
velset = 0
anim = 245
ctrl = 0
poweradd = 60

[State 6245, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 245, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 6245, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 95
guardflag = H
pausetime = 12,12
sparkxy = -35,-50
hitsound = S2200,5
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -4,-3

[State 6245, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6245, 3]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 2500
value = 3080

[State 6207, 4]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
trigger1 = power >= 1500
value = 3050

[State 6245, 5]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(9) = 1
value = 6235

;---------------------------------------------------------
; Light Punch (Crouch)
[Statedef 6400]
type    = C
movetype= A
physics = C
juggle  = 3
velset = 0
ctrl = 0
anim = 400
poweradd = 40

[State 6400, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 6400, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6400, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
animtype = Light
damage = 45
guardflag = LA
pausetime = 10,10
sparkxy = -10,-62
hitsound = S2200,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

[State 6400, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Hard Punch (Crouch)
[Statedef 6410]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0
ctrl = 0
anim = 411
poweradd = 60

[State 6410, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 6410, 0.1]
type = PlaySnd
trigger1 = Time = 3
value = 2100,1

[State 6410, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
animtype = Hard
damage = 75
guardflag = MA
pausetime = 12,12
sparkxy = -15,-75
hitsound = S2200,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -3,-5.8

[State 6410, 1]
type = HitDef
trigger1 = MoveContact =0
trigger1 = AnimElem = 4
attr = C, NA
animtype = Hard
damage = 90
guardflag = MA
pausetime = 12,12
sparkxy = -10,-125
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -3,-6

[State 410, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Light Kick (Crouch)
[Statedef 6430]
type    = C
movetype= A
physics = C
juggle  = 3
velset = 0
ctrl = 0
anim = 431
poweradd = 40

[State 6430, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 6430, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6430, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
animtype = Light
damage = 45
sparkno = 0
guardflag = LA
pausetime = 10,10
sparkxy = -10,-6
hitsound = S2200,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-3

[State 6430, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Hard Kick (Crouch)
[Statedef 6440]
type    = C
movetype= A
physics = C
juggle  = 15
velset = 0
ctrl = 0
anim = 440
poweradd = 60

[State 6440, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 6400, 0.1]
type = PlaySnd
trigger1 = Time = 9
value = 2100,1

[State 6440, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
animtype = Back
damage = 115
guardflag = L
pausetime = 12,12
sparkxy = -15,-37
hitsound = S2200,5
guardsound = 6,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -2,-5
air.velocity = -4,-4
fall = 1

[State 6440, 2]
type = HitDef
trigger1 = MoveHit != 1
trigger1 = AnimElem = 8
attr = C, NA
animtype = Back
damage = 115
guardflag = L
pausetime = 12,12
sparkxy = -15,-37
hitsound = S2000,5
guardsound = 6,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -2,-5
air.velocity = -4,-4
fall = 1

[State 6440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------
; Weak Punch (Jump)
[Statedef 6600]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 601
poweradd = 40

[State 6600, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 6600, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6600, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Light
damage = 45
sparkno = 0
guardflag = H
pausetime = 10,10
sparkxy = -8,-50
hitsound = S2200,2
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-2

;---------------------------------------------------------
; Hard Punch (Jump)
[Statedef 6610]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0
anim = 611
poweradd = 60

[State 6610, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 6610, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 6610, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Med
damage = 103
guardflag = H
pausetime = 12,12
sparkxy = -15,-30
hitsound = S2200,4
guardsound = 6,0
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8
air.velocity = -3,-3

;---------------------------------------------------------
; Knockdown Attack (Jump)
[Statedef 6620]
type    = A
movetype= A
physics = A
juggle  = 20
ctrl = 0
anim = 620
poweradd = 100

[State 6620, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,1

[State 6620, 0.1]
type = PlaySnd
trigger1 = Time = 5
value = 2100,1

[State 6620, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Hard
damage = 115
guardflag = H
pausetime = 15,12
sparkxy = -10,-97
hitsound = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0

;---------------------------------------------------------
; Weak Kick (Jump)
[Statedef 6630]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 631
poweradd = 30

[State 6630, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,0

[State 6630, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 6630, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Light
damage = 60
sparkno = 0
guardflag = H
pausetime = 10,10
sparkxy = -15,-89
hitsound = S2200,3
guardsound = 6,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3,-3

;---------------------------------------------------------
; Hard Kick (Jump)
[Statedef 6640]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0
anim = 640
poweradd = 60

[State 6640, 0]
type = PlaySnd
trigger1 = random < 350
trigger1 = AnimElem = 2
value = 200,1

[State 6640, 0.1]
type = PlaySnd
trigger1 = Time = 1
value = 2100,1

[State 6640, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, NA
animtype = Light
damage = 115
guardflag = H
pausetime = 12,12
sparkxy = -8,-78
hitsound = S2200,5
guardsound = 6,0
ground.type = high
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
air.velocity = -4,-3

;---------------------------------------------------------
; Musebu Daichi (Attempt.Light)
[Statedef 2020]
type    = S
movetype= A
velset = 0
anim = 2020
ctrl = 0
poweradd = 100

[State 2020, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2020,0

[State 2020, 1]
type = VelSet
trigger1 = AnimElem = 3
x = 10

[State 2020, 2] 
type = VelSet
trigger1 = AnimElem = 6
x = 1.5

[State 100, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100,0

[State 2020, 3] 
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 2020, 4]
type = HitDef
triggerall = !var(32)
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M
priority = 1
pausetime = 0,0
snap = -40, 0, 0
sparkno = -1
p2facing = 1
p1stateno = 2025
p2stateno = 2028
p2getp1state = 1
hitsound = S2200,1

[State 2020, 5]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2020,1

[State 2020, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Musebu Daichi (Attempt.Hard)
[Statedef 2021]
type    = S
movetype= A
velset = 0
anim = 2021
ctrl = 0
poweradd = 100

[State 2021, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2020,0

[State 2021, 1]
type = VelSet
trigger1 = AnimElem = 3
x = 10

[State 100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,0

[State 100, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100,1

[State 2020, 2] 
type = VelSet
trigger1 = AnimElem = 6
x = 1.6

[State 2020, 3]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 2021, 4]
type = HitDef
triggerall = !var(32)
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M
guardflag = 
priority = 1
pausetime = 0,0
snap = -40, 0, 0
sparkno = -1
p2facing = 1
p1stateno = 2025
p2stateno = 2028
p2getp1state = 1
hitsound = S2200,1

[State 2021, 5]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2020,1

[State 2021, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Musebu Daichi (Success.A)
[Statedef 2025]
type    = S
movetype= A
physics = S
anim = 2025
ctrl = 0

[State 2025, 1]
type = TargetBind;BindToTarget
trigger1 = AnimElem = 1
pos = 25

[State 2025, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 30

[State 2025, 3]
type = PosAdd
trigger1 = AnimElem = 3
x = 20

[State 2025, 4]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 2025, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2026

;-------------------------------------------------------------
; Musebu Daichi (Success.B)
[Statedef 2026]
type    = A
movetype= A
physics = N
velset = 6,-5
anim = 2026
ctrl = 0

[State 730, 0]
type = PlaySnd
trigger1 = Time = 0
value = 2100,3

[State 2026, 1]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 2026, 2]
type = ChangeState
trigger1 = AnimElem = 4
value = 2027
ctrl = 1

;-------------------------------------------------------------
; Musebu Daichi (Success.Land.B)
[Statedef 2027]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 2027, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2200,9

[State 2027, 2]
type = PlaySnd
trigger1 = Time = 0
value = 2200,7

[State 2027, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2027, 4]
type = PosAdd
trigger1 = Time = 8
x = 20

[State 2027, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Musebu Daichi (Thrown.A)
[Statedef 2028]
type    = S
movetype= A
physics = S
anim = 2027
ctrl = 0

[State 2028, 1]
type = Changeanim2
trigger1 = Time = 0
value = 2027

[State 2028, 2]
type = ChangeState
trigger1 = AnimElem = 3
value = 2029

;-------------------------------------------------------------
; Musebu Daichi (Thrown.B)
[Statedef 2029]
type    = A
movetype= A
physics = N
velset = -6,-5
ctrl = 0

[State 2029, 1]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 2029, 2]
type = PosSet
trigger1 = Time = 24
y = 0

[State 2029, 3]
type = VelSet
trigger1 = Time = 24
x = 0
y = 0

[State 2029, 4]
type = LifeAdd
trigger1 = Time = 24
value = -120

[State 2029, 6]
type = EnvShake
trigger1 = Time = 24
time = 10
ampl = -6
freq = 100
phase = 100

[State 2029, 7]
type = PosAdd
trigger1 = AnimTime = 0
x = -100

[State 2029, 8]
type = VelSet
trigger1 = AnimTime = 0
x = -6
y = -3

[State 2029, 9]
type = SelfState
trigger1 = AnimTime = 0
value = 5100

;-------------------------------------------------------------
; Kujiku Daichi (Attempt.Start)
[Statedef 2090]
type    = S
movetype= A
physics = S
anim = 2090
poweradd = 100
velset = 0
ctrl = 0

[State 2090, 2]
type = ChangeState
trigger1 = AnimElem = 2
value = 2091

;-------------------------------------------------------------
; Kujiku Daichi (Attempt.Air)
[Statedef 2091]
type    = A
movetype= A
physics = N
velset = 3.2,-8

[State 106, 2]
type = PlaySnd
trigger1 = Time = 0
value = 105,0

[State 2091, 1]
type = VelAdd
trigger1 = Time > 0
y = .48

[State 2091, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2091, 3]
type = HitDef
trigger1 = animelem=3
attr = A, ST
hitflag = M
animtype = light
priority = 5
pausetime = 0,0
guard.sparkno = -1
sparkno = -1
p1stateno = 2096
p2stateno = 2095
ground.hittime = 19
ground.slidetime = 19
ground.velocity = 0
hitsound = S2200,0

[State 2091, 4]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2092

;---------------------------------------------------------
; Kujiku Daichi (Attempt.Land)
[Statedef 2092]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 2092

[State 2092, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2092, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
; Kujiku Daichi (Attempt.StartB)
[Statedef 2093]
type    = S
movetype= A
physics = S
anim = 2091
poweradd = 100
velset = 0
ctrl = 0

[State 2093, 2]
type = ChangeState
trigger1 = AnimElem = 2
value = 2094

;-------------------------------------------------------------
; Kujiku Daichi (Attempt.AirB)
[Statedef 2094]
type    = A
movetype= A
physics = N
velset = 4.2,-9

[State 106, 2]
type = PlaySnd
trigger1 = Time = 0
value = 105,0

[State 2091, 1]
type = VelAdd
trigger1 = Time > 0
y = .48

[State 2091, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2091, 3]
type = HitDef
trigger1 = animelem=3
attr = A, ST
animtype = light
hitflag = M
priority = 5
pausetime = 0,0
guard.sparkno = -1
sparkno = -1
p1stateno = 2096
p2stateno = 2095
ground.hittime = 19
ground.slidetime = 19
ground.velocity = 0
hitsound = S2200,0

[State 2091, 4]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2092

;-------------------------------------------------------------
; Kujiku Daichi (Thrown)
[Statedef 2095]
type    = S
movetype= H
physics = S
velset = 0
ctrl = 0

[State 2095, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 2096

[State 2095, 2]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
; Kujiku Daichi (Success)
[Statedef 2096]
type    = A
movetype= A
physics = N
anim = 2093
velset = 0,0

[State 2096, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2090,0

[State 2096, 2]
type = BindToTarget
trigger1 = Time = 0
pos = 0,16,head
time = 31

[State 2096, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 2097

;-------------------------------------------------------------
; Kujiku Daichi (Success.Land)
[Statedef 2097]
type    = S
movetype= I
physics = S
anim = 2094
velset = 0,0

[State 2097, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2097, 2]
type = PosAdd
trigger1 = Time = 0
x = 45

[State 2097, 3]
type = Turn
trigger1 = AnimTime = 0

[State 2097, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
; Odoru Daichi (Attempt)
[Statedef 3020]
type    = S
movetype= A
physics = S
velset = 0
ctrl = 0
anim = 3020

[State 210, 0]
type = nothitby
trigger1 = Time = 0
value = SCA
time=10

[State 210, 0]
type = PlaySnd
trigger1 = Time = 3
value = 200,1

[State 3020, 1]
type = HitDef
triggerall = !var(32) && !var(33)
trigger1 = time=7
attr = S, NT
animtype = light
hitflag = M
priority = 5
pausetime = 0,0
guard.sparkno = -1
sparkno = -1
p1stateno = 3021
p2stateno = 3022
hitsound = S2200,1

[State 3020, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
; Odoru Daichi (Success)
[Statedef 3021]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3025
ctrl = 0

[State 3021, 0]
type = PlaySnd
trigger1 = Time = 3
value = 40,0

[State 3021, 1]
type = BindToTarget
trigger1 = Time = 0
pos = 0,16,head
time = 44

[State 3021, 2]
type = PosAdd
trigger1 = Time = 44
x = 15

[State 3021, 3]
type = PosSet
trigger1 = Time = 44
y = 0

[State 3021, 3]
type = PlaySnd
trigger1 = AnimElem = 15
value = 200,0

[State 3021, 4]
type = PosAdd
trigger1 = AnimElem = 15
x = 65

[State 3021, 5]
type = PosAdd
trigger1 = AnimElem = 18
x = 20

[State 3021, 6]
type = PosAdd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
x = 5

[State 3021, 7]
type = PosAdd
trigger1 = AnimElem = 21
trigger2 = AnimElem = 22
x = 12

[State 3021, 8]
type = TargetBind
trigger1 = AnimElem = 15, >= 0
trigger1 = AnimElem = 16, < 0
pos = -65,-99

[State 3021, 9]
type = TargetBind
trigger1 = AnimElem = 16, >= 0
trigger1 = AnimElem = 17, < 0
pos = 7,-112

[State 2040, 0]
type = PlaySnd
trigger1 = AnimElem = 17
value = 40,1

[State 3021, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
; Odoru Daichi (Thrown)
[Statedef 3022]
type    = S
movetype= H
physics = S
velset = 0
ctrl = 0

[State 3022, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3026

[State 3022, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3023

;---------------------------------------------------------
; Odoru Daichi (Falling)
[Statedef 3023]
type    = A
movetype= H
physics = N
velset = -2.5,-14.2

[State 3023, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3027

[State 3023, 2]
type = VelAdd
trigger1 = Time > 0
y = .52

[State 3023, 2]
type = LifeAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -120

[State 3023, 2]
type = PlaySnd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = F5,4

[State 3023, 3]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10
ampl = -6
freq = 90
phase = 90

[State 3023, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------
; Niragu Daichi (Attempt)
[Statedef 3030]
type    = S
movetype= A
physics = S
velset = 0
anim = 3030
ctrl = 0

[State 3030, 1]
type = VelSet
trigger1 = Time > 0
x = 0

[State 3030, 1]
type = PosAdd
trigger1 = Time = 0
x = 10

[State 3030, 1]
type = nothitby
trigger1 = time<=3
value = SCA

[State 3030, 2]
type = HitDef
triggerall = !var(32)
trigger1 = time=0
attr = S, NT
hitflag = M
priority = 1
snap = 26, 0, 0, 1
sparkno = -1
p2facing = 1
p1stateno = 3031
p2stateno = 3035
p2getp1state = 1
hitsound = S2200,1

[State 3030, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Niragu Daichi (Thrown)
[Statedef 3035]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0

[State 3035, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3035

[State 3035, 2]
type = VelSet
trigger1 = AnimTime = 0
x = -6
y = -6

[State 3035, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 5100

;---------------------------------------------------------
; Niragu Daichi (Success)
[Statedef 3031]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 3031

[State 3031, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
trigger3 = AnimElem = 22
value = -50
kill=0

[State 3031, 1]
type = TargetLifeAdd
trigger1 = Time = 170
value = -65

[State 3031, 2]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
trigger3 = AnimElem = 22
trigger4 = Time = 170
value = 2200,7

[State 3031, 2]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
trigger3 = AnimElem = 22
trigger4 = Time = 170
value = 200,2

[State 3031, 3]
type = EnvShake
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
trigger3 = AnimElem = 22
trigger4 = Time = 170
time = 20
ampl = -6
freq = 90
phase = 90

[State 3000,Explod 3]
type = Explod
trigger1 = animelem=3,0
anim = 6061
pos = 11,-138
sprpriority = 1
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
persistent = 0
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = animelem=8,0
trigger2 = animelem=22,0
anim = 6075
pos = -87,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = animelem=14,0
anim = 6075
pos = 44,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = time=170
anim = 6075
pos = 27,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1



[State 3000,Explod 3]
type = Explod
trigger1 = animelem=8,0
trigger2 = animelem=22,0
anim = 6070
pos = -87,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = animelem=14,0
anim = 6070
pos = 44,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = time=170
anim = 6070
pos = 27,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1


[State 3031, 4]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 30,-88

[State 3031, 5]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 18,-119

[State 3031, 6]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 11,-138

[State 3031, 7]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 20,-134

[State 3031, 8]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 10,-131

[State 3031, 9]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 13,-116

[State 3031, 10]
type = TargetBind
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
pos = -64,-109

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 8, >= 0
trigger1 = AnimElem = 9, < 0
pos = -93,-3

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 9, >= 0
trigger1 = AnimElem = 10, < 0
pos = -93,-3

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 10, >= 0
trigger1 = AnimElem = 11, < 0
pos = -78,-10

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 11, >= 0
trigger1 = AnimElem = 12, < 0
pos = -77,-37

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 12, >= 0
trigger1 = AnimElem = 13, < 0
pos = -65,-76

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 13, >= 0
trigger1 = AnimElem = 14, < 0
pos = -12,-124

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 14, >= 0
trigger1 = AnimElem = 15, < 0
pos = 43,-10

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 15, >= 0
trigger1 = AnimElem = 16, < 0
pos = 46,-10

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 16, >= 0
trigger1 = AnimElem = 17, < 0
pos =  45,0

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 17, >= 0
trigger1 = AnimElem = 18, < 0
pos =  45,0

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 18, >= 0
trigger1 = AnimElem = 19, < 0
pos = 55,-18

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 19, >= 0
trigger1 = AnimElem = 20, < 0
pos = 51,-56

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 20, >= 0
trigger1 = AnimElem = 21, < 0
pos = 23,-115

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 21, >= 0
trigger1 = AnimElem = 22, < 0
pos = -64,-109

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 22, >= 0
trigger1 = AnimElem = 23, < 0
pos = -93,-3

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 23, >= 0
trigger1 = AnimElem = 24, < 0
pos = -93,-3

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 24, >= 0
trigger1 = AnimElem = 25, < 0
pos = -78,-10

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 25, >= 0
trigger1 = AnimElem = 26, < 0
pos = -77,-37

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 26, >= 0
trigger1 = AnimElem = 27, < 0
pos = -39,-70

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 27, >= 0
trigger1 = AnimElem = 28, < 0
pos = -50,-105

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 28, >= 0
trigger1 = AnimElem = 29, < 0
pos = -58,-116

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 29, >= 0
trigger1 = AnimElem = 30, < 0
pos = -42,-119

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 30, >= 0
trigger1 = AnimElem = 31, < 0
pos = 3,-137

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 31, >= 0
trigger1 = AnimElem = 32, < 0
pos = 51,-73

[State 3031, 11]
type = TargetBind
trigger1 = AnimElem = 32, >= 0
trigger1 = AnimElem = 33, < 0
pos = 25,-11

[State 2091, 1]
type = VelSet
trigger1 = Time = 120
x = 1.7
y = -11.5

[State 2091, 1]
type = VelAdd
trigger1 = Time > 120
trigger1 = Time < 170
y = .5

[State 2091, 1]
type = VelSet
trigger1 = Time = 170;162
x = 0
y = 0

[State 2091, 1]
type = PosSet
trigger1 = Time = 170;162
y = 0

[State 2091, 1]
type = VelSet
trigger1 = Time = 180
x = 1.2
y = -6.5

[State 2091, 1]
type = VelAdd
trigger1 = Time > 180
y = .42

[State 3031, 14]
type = ChangeState
trigger1 = Time > 186
trigger1 = Vel Y > 0 
trigger1 = Pos Y >= 0 
value = 52

;------------[Ankoku Jigoku Gokuraku Otoshi]--------Phase 1
; Ankoku Jigoku Gokuraku Otoshi (Attempt)
[Statedef 3050]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3050
ctrl = 0
poweradd = -1000

[State 3050, 1]
type = HitDef
triggerall = !var(32)
trigger1 = time=0
attr = S, NT
ID = 3050
priority = 1
hitflag = M
sparkno = -1
p2facing = 1
p2getp1state = 1
p1stateno = 3051
p2stateno = 3055
hitsound = S2200,1

[State 3050, 2]
type = nothitby
trigger1 = Time = 0
value = SCA
time=44

[State 3050, 2]
type = PlaySnd
trigger1 = Time = 0
value = 105,1

[State 3050, 3]
type = SuperPause
trigger1 = AnimElem = 2
time = 29
movetime = 29
anim = -1

[State 3050, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 6020
sprpriority = -2
postype = p1
pos = 3,-142
bindtime = 1
supermove = 1

[State 3050, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 6030
sprpriority = 4
postype = p1
pos = 3,-142
bindtime = 1
supermove = 1

[State 3050, 6]
type = EnvColor
trigger1 = AnimElem = 2
trigger2 = movehit = 1
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3050, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Success)
[Statedef 3051]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3051

[State 3051, 0]
type = SuperPause
trigger1 = Time = 0
time = 29
movetime = 29
anim = -1

[State 3051, 1]
type = Explod
trigger1 = Time = 4
anim = 6020
sprpriority = -2
postype = p1
pos = 29,-138
bindtime = 1
supermove = 1

[State 3051, 2]
type = Explod
trigger1 = Time = 4
anim = 6030
sprpriority = 4
postype = p1
pos = 29,-138
bindtime = 1
supermove = 1

[State 3051, 3]
type = EnvColor
trigger1 = time = 1
trigger2 = animelem = 8
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3051, 4]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 49,-100

[State 3051, 5]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 35,-129

[State 3051, 6]
type = TargetBind
trigger1 = AnimElem = 3
pos = 29,-150

[State 3051, 7]
type = TargetState
trigger1 = AnimElem = 4
value = 3056

[State 3051, 8]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
ID = 3050
ChainID = 3050
damage = 40
guardflag = 
pausetime = 13,13
sparkxy = -35,-50
hitsound = S2200,6
guardsound = 6,0
ground.type = high
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
down.time = 200
fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = -4.3

[State 3051, 9]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3050,0

[State 3051, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3060

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Thrown)
[Statedef 3055]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0

[State 3055, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3052

[State 3055, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3056

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Falling)
[Statedef 3056]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0
anim = 5070

[State 3056, 1]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 3056, 1]
type = PosAdd
trigger1 = Time = 0
y = 100

[State 3056, 4]
type = ChangeState
trigger1 = Vel Y > 0 
trigger1 = Pos Y >= 0 
value = 5110

;------------[Ankoku Jigoku Gokuraku Otoshi]--------Phase 2
; Ankoku Jigoku Gokuraku Otoshi (Attempt)
[Statedef 3060]
type = S
movetype = A
physics = S
velset = 0
anim = 3060
ctrl = 0

[State 3060, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
hitflag = MAFD
priority = 1
snap = 26, 0, 0, 1
sparkno = -1
p2facing = 1
p1stateno = 3061
p2stateno = 3065
p2getp1state = 1
hitsound = S2200,1
ChainID = 3050

[State 3060, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Success)
[Statedef 3061]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 3061


[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 2
anim = 6061
pos = 17,-5
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1


[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 9,0
trigger2 = AnimElem = 23,0
trigger3 = AnimElem = 37,0
anim = 6075
pos = -87,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 15,0
trigger2 = AnimElem = 29,0
anim = 6075
pos = 43,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 9,0
trigger2 = AnimElem = 23,0
trigger3 = AnimElem = 37,0
anim = 6070
pos = -87,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 15,0
trigger2 = AnimElem = 29,0
anim = 6070
pos = 43,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1



[State 3061, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
value = -105
kill=0

[State 730, 0]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
trigger5 = AnimElem = 34
value = 2100,3

[State 3061, 2]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
value = 2200,7

[State 3051, 3]
type = EnvColor
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
time = 2
value = 255,255,255
under = 1

[State 3061, 3]
type = EnvShake
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
time = 20
ampl = -6
freq = 90
phase = 90

[State 3061, 4]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 40,-3

[State 3061, 5]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 14,-2

[State 3061, 6]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -14,-12

[State 3061, 7]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -10,-14

[State 3061, 8]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 55,-18

[State 3061, 9]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 53,-56

[State 3061, 10]
type = TargetBind
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
pos = 22,-116

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 8, >= 0
trigger1 = AnimElem = 9, < 0
pos = -64,-109

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 9, >= 0
trigger1 = AnimElem = 10, < 0
pos = -94,-1

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 10, >= 0
trigger1 = AnimElem = 11, < 0
pos = -90,-1

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 11, >= 0
trigger1 = AnimElem = 12, < 0
pos = -79,-9

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 12, >= 0
trigger1 = AnimElem = 13, < 0
pos = -79,-37

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 13, >= 0
trigger1 = AnimElem = 14, < 0
trigger2 = AnimElem = 27, >= 0
trigger2 = AnimElem = 28, < 0
pos = -64,-74

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 14, >= 0
trigger1 = AnimElem = 15, < 0
trigger2 = AnimElem = 28, >= 0
trigger2 = AnimElem = 29, < 0
pos = -12,-124

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 15, >= 0
trigger1 = AnimElem = 16, < 0
trigger2 = AnimElem = 29, >= 0
trigger2 = AnimElem = 30, < 0
pos = 45,-3

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 16, >= 0
trigger1 = AnimElem = 17, < 0
trigger2 = AnimElem = 30, >= 0
trigger2 = AnimElem = 31, < 0
pos = 46,-3

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 17, >= 0
trigger1 = AnimElem = 18, < 0
trigger2 = AnimElem = 31, >= 0
trigger2 = AnimElem = 32, < 0
pos = 53,-8

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 18, >= 0
trigger1 = AnimElem = 19, < 0
trigger2 = AnimElem = 32, >= 0
trigger2 = AnimElem = 33, < 0
pos = 53,-14

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 19, >= 0
trigger1 = AnimElem = 20, < 0
trigger2 = AnimElem = 33, >= 0
trigger2 = AnimElem = 34, < 0
pos = 56,-17

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 20, >= 0
trigger1 = AnimElem = 21, < 0
trigger2 = AnimElem = 34, >= 0
trigger2 = AnimElem = 35, < 0
pos = 51,-56

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 21, >= 0
trigger1 = AnimElem = 22, < 0
trigger2 = AnimElem = 35, >= 0
trigger2 = AnimElem = 36, < 0
pos = 23,-115

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 22, >= 0
trigger1 = AnimElem = 23, < 0
trigger2 = AnimElem = 36, >= 0
trigger2 = AnimElem = 37, < 0
pos = -64,-109

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 23, >= 0
trigger1 = AnimElem = 24, < 0
trigger2 = AnimElem = 37, >= 0
trigger2 = AnimElem = 38, < 0
pos = -93,-3

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 24, >= 0
trigger1 = AnimElem = 25, < 0
trigger2 = AnimElem = 38, >= 0
trigger2 = AnimElem = 39, < 0
pos = -93,-3

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 25, >= 0
trigger1 = AnimElem = 26, < 0
trigger2 = AnimElem = 39, >= 0
trigger2 = AnimElem = 40, < 0
pos = -78,-10

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 26, >= 0
trigger1 = AnimElem = 27, < 0
trigger2 = AnimElem = 40, >= 0
trigger2 = AnimElem = 41, < 0
pos = -79,-36

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 41, >= 0
trigger1 = AnimElem = 42, < 0
pos = -70,-93

[State 3061, 11]
type = TargetBind
trigger1 = AnimElem = 42
pos = 0,-111

[State 3061, 11]
type = PosAdd
trigger1 = AnimElem = 5
pos = -64

[State 3021, 5]
type = PosAdd
trigger1 = AnimElem = 44
x = 20

[State 3021, 6]
type = PosAdd
trigger1 = AnimElem = 45
trigger2 = AnimElem = 46
x = 5

[State 3021, 7]
type = PosAdd
trigger1 = AnimElem = 47
trigger2 = AnimElem = 48
x = 12

[State 3021, 6]
type = PosAdd
trigger1 = AnimElem = 48
trigger2 = AnimElem = 49
x = 5

[State 3065, 2]
type = ScreenBound
trigger1 = time >= 0
movecamera = 1,0

[State 3061, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Thrown)
[Statedef 3065]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0

[State 3065, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3065

[State 3065, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3066

;---------------------------------------------------------
; Kujiku Daichi (Falling)
[Statedef 3066]
type    = A
movetype= H
physics = N
velset = -2.2,-12

[State 3066, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3027

[State 3066, 2]
type = PosAdd
Trigger1 = Time = 0
x = -30

[State 3066, 3]
type = VelAdd
trigger1 = Time > 0
y = .47

[State 3066, 4]
type = LifeAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -120

[State 3066, 5]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10
ampl = -6
freq = 90
phase = 90

[State 3066, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------
; Final Impact (Start Impact.SDM)
[Statedef 3070]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3040
ctrl = 0
poweradd = -2000

[State 3070, 1]
type = PlaySnd
trigger1 = Time = 0
value = 105,1

[State 3070, 2]
type = AfterImage
trigger1 = Time = 32
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3070, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 3070, 4]
type = SuperPause
trigger1 = Time = 0
time = 29
movetime = 29
anim = -1

[State 3000, 5]
type = Explod
trigger1 = Time = 4
anim = 6040
sprpriority = -2
postype = p1
pos = -12,-68
bindtime = 1
supermove = 1

[State 3070, 6]
type = Explod
trigger1 = Time = 4
anim = 6050
sprpriority = 4
postype = p1
pos = -12,-68
bindtime = 1
supermove = 1

[State 3070, 7]
type = EnvColor
trigger1 = time = 2
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3070, 7]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3070, 8]
type = VelSet
trigger1 = Time = [30,31]
x = 13

[State 3070, 9]
type = ChangeState
trigger1 = var(30)=0
trigger1 = AnimElem = 4
trigger1 = command = "hold_y"
value = 3071

[State 3070, 9]
type = ChangeState
trigger1 = var(30)
trigger1 = AnimElem = 4
trigger1 = !enemy,numproj && p2bodydist x>=80
value = 3071

[State 3070, 10]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Up
damage = 400,30
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -6.3,-5
air.velocity = -6.3,-5
fall = 1
fall.recover = 0

[State 3070, 11]
type = PlaySnd
trigger1 = Time = 30
value = 3040,0

[State 3070, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (1 Level Charge.SDM)
[Statedef 3071]
type    = S
movetype= A
physics = S
velset = 0
anim = 3041
ctrl = 0

[State 3000, 1]
type = ChangeState
trigger1 = !var(30)
trigger1 = command != "hold_y"
value = 3074

[State 3000, 1]
type = ChangeState
triggerall = var(30)
triggerall = p2stateno!=[5040,5999]
trigger1 = enemy,numproj
trigger2 = p2bodydist x<=80
trigger3 = p2bodydist x=[80,100]
trigger3 = p2statetype!=A && p2movetype=A || p2statetype=A && enemy,vel y>0 && enemy,pos y>=-70
value = 3074

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,1

[State 3000, 2]
type = ChangeState
trigger1 = !var(30)
trigger1 = AnimElem = 10
trigger1 = command = "hold_y"
trigger2 = var(30)
trigger2 = AnimElem = 10
value = 3072

;---------------------------------------------------------
; Final Impact (2nd Level Charge.SDM)
[Statedef 3072]
type    = S
movetype= A
physics = S
velset = 0
anim = 3042
ctrl = 0

[State 3000, 1]
type = ChangeState
trigger1 = !var(30)
trigger1 = command != "hold_y"
value = 3075

[State 3000, 1]
type = ChangeState
triggerall = var(30)
triggerall = p2stateno!=[5040,5999]
trigger1 = enemy,numproj
trigger2 = p2bodydist x<=80
trigger3 = p2bodydist x=[80,100]
trigger3 = p2statetype!=A && p2movetype=A || p2statetype=A && enemy,vel y>0 && enemy,pos y>=-70
value = 3075

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,2

[State 3000, 2]
type = ChangeState
trigger1 = !var(30)
trigger1 = AnimElem = 10
trigger1 = command = "hold_y"
trigger2 = var(30)
trigger2 = AnimElem = 10
value = 3073

;---------------------------------------------------------
; Final Impact (3rd Level Charge.SDM)
[Statedef 3073]
type    = S
movetype= A
physics = S
velset = 0
anim = 3043
ctrl = 0

[State 3000, 1]
type = ChangeState
trigger1 = !var(30)
trigger1 = command != "hold_y"
value = 3076

[State 3000, 1]
type = ChangeState
triggerall = var(30)
triggerall = p2stateno!=[5040,5999]
trigger1 = enemy,numproj
trigger2 = p2bodydist x<=80
trigger3 = p2bodydist x=[80,100]
trigger3 = p2statetype!=A && p2movetype=A || p2statetype=A && enemy,vel y>0 && enemy,pos y>=-70
value = 3076

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,3

[State 3000, 2]
type = ChangeState
trigger1 = !var(30)
trigger1 = AnimElem = 10
trigger1 = command = "hold_y"
trigger2 = var(30)
trigger2 = AnimElem = 10
value = 3077

;---------------------------------------------------------
; Final Impact (1st Level Strike.SDM)
[Statedef 3074]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3074, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3074, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3074, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3074, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3074, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Up
damage = 450,125
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -6.3,-5
air.velocity = -6.3,-5
fall = 1
fall.recover = 0

[State 3074, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (2nd Level Strike.SDM)
[Statedef 3075]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3075, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3075, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3075, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3075, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3075, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Dialup
damage = 525,150
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -6.8,-5.5
air.velocity = -6.8,-5.5
fall = 1
fall.recover = 0

[State 3075, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (3rd Level Strike.SDM)
[Statedef 3076]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3076, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3076, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3076, 2]
type = EnvColor
trigger1 = movehit = 1
persistant = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3076, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3076, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Dialup
damage = 600,175
guardflag = M
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -7.3,-5.5
air.velocity = -7.3,-5.5
fall = 1
fall.recover = 0

[State 3076, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Final Impact (Max Level Strike.SDM)
[Statedef 3077]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3044
ctrl = 0

[State 3077, 1]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
timegap = 2
framegap = 3
length = 10

[State 3077, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3040,0

[State 3077, 2]
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3077, 3]
type = VelSet
trigger1 = Time = [0,1]
x = 13

[State 3077, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Dialup
damage = 650,200
pausetime = 23,23
sparkxy = -10,-60
hitsound = S2200,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -7.3,-5.5
air.velocity = -7.3,-5.5
fall = 1
fall.recover = 0

[State 3077, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------[Ankoku Jigoku Gokuraku Otoshi]--------Phase 1-SDM
; Ankoku Jigoku Gokuraku Otoshi (Attempt)
[Statedef 3080]
type    = S
movetype= A
physics = S
juggle = 15
velset = 0
anim = 3050
ctrl = 0
poweradd = -2000

[State 3080, 1]
type = HitDef
triggerall = !var(32)
trigger1 = Time = 0
attr = S, NT
ID = 3050
priority = 1
hitflag = M
sparkno = -1
p2facing = 1
p2getp1state = 1
p1stateno = 3081
p2stateno = 3085
hitsound = S2200,1

[State 3050, 2]
type = nothitby
trigger1 = Time = 0
value = SCA
time=44

[State 3080, 2]
type = PlaySnd
trigger1 = Time = 0
value = 105,1

[State 3080, 3]
type = SuperPause
trigger1 = AnimElem = 2
time = 29
movetime = 29
anim = -1

[State 3080, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 6040
sprpriority = -2
postype = p1
pos = 3,-142
bindtime = 1
supermove = 1

[State 3080, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 6050
sprpriority = 4
postype = p1
pos = 3,-142
bindtime = 1
supermove = 1

[State 3080, 6]
type = EnvColor
trigger1 = AnimElem = 2
trigger2 = movehit = 1
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3080, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Success)
[Statedef 3081]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3051

[State 3081, 0]
type = SuperPause
trigger1 = Time = 0
time = 29
movetime = 29
anim = -1

[State 3081, 1]
type = Explod
trigger1 = Time = 4
anim = 6040
sprpriority = -2
postype = p1
pos = 29,-138
bindtime = 1
supermove = 1

[State 3081, 2]
type = Explod
trigger1 = Time = 4
anim = 6050
sprpriority = 4
postype = p1
pos = 29,-138
bindtime = 1
supermove = 1

[State 3081, 3]
type = EnvColor
trigger1 = time = 1
trigger2 = animelem = 8
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

[State 3081, 4]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 49,-100

[State 3081, 5]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 35,-129

[State 3081, 6]
type = TargetBind
trigger1 = AnimElem = 3
pos = 29,-150

[State 3081, 7]
type = TargetState
trigger1 = AnimElem = 4
value = 3086

[State 3081, 8]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
ID = 3050
ChainID = 3050
damage = 50
guardflag = 
pausetime = 13,13
sparkxy = -35,-50
hitsound = S2200,6
guardsound = 6,0
ground.type = high
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
down.time = 200
fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = -4.3

[State 3081, 9]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3050,0

[State 3081, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3090

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Thrown)
[Statedef 3085]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0

[State 3085, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3052

[State 3085, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3086

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Falling)
[Statedef 3086]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0
anim = 5070
sprpriority = 2

[State 3086, 1]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 3086, 1]
type = PosAdd
trigger1 = Time = 0
y = 100

[State 3086, 4]
type = ChangeState
trigger1 = Vel Y > 0 
trigger1 = Pos Y >= 0 
value = 5110

;------------[Ankoku Jigoku Gokuraku Otoshi]--------Phase 2-SDM
; Ankoku Jigoku Gokuraku Otoshi (Attempt)
[Statedef 3090]
type = S
movetype = A
physics = S
velset = 0
anim = 3060
ctrl = 0

[State 3090, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
hitflag = MAFD
damage = 50
priority = 1
snap = 26, 0, 0, 1
sparkno = -1
p2facing = 1
p1stateno = 3091
p2stateno = 3095
p2getp1state = 1
hitsound = S2200,1
ChainID = 3050
kill=0

[State 3090, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Success)
[Statedef 3091]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 3070

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 2
anim = 6061
pos = 17,-5
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1


[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 23
trigger3 = AnimElem = 37
trigger4 = AnimElem = 51
anim = 6075
pos = -87,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 15
trigger2 = AnimElem = 29
trigger3 = AnimElem = 43
anim = 6075
pos = 43,7
sprpriority = 7
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 23
trigger3 = AnimElem = 37
trigger4 = AnimElem = 51
anim = 6070
pos = -87,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1

[State 3000,Explod 3]
type = Explod
trigger1 = AnimElem = 15
trigger2 = AnimElem = 29
trigger3 = AnimElem = 43
anim = 6070
pos = 43,7
sprpriority = 0
ownpal = 1
facing = 1
ignorehitpause = 1
bindtime = -1
supermovetime = -1
postype = p1





[State 3091, 0]
type = PlaySnd
trigger1 = AnimElem = 66
value = 3050, 1

[State 3091, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
trigger6 = AnimElem = 43
trigger7 = AnimElem = 51
value = -130
kill=0

[State 3091, 2]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
trigger5 = AnimElem = 34
trigger6 = AnimElem = 40
trigger7 = AnimElem = 48
value = 2100,3

[State 3091, 2]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
trigger6 = AnimElem = 43
trigger7 = AnimElem = 51
value = 2200,7

[State 3091, 3]
type = EnvColor
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
trigger6 = AnimElem = 43
trigger7 = AnimElem = 51
time = 2
value = 255,255,255
under = 1

[State 3091, 3]
type = EnvShake
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
trigger6 = AnimElem = 43
trigger7 = AnimElem = 51
time = 20
ampl = -6
freq = 90
phase = 90

[State 3091, 4]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 40,-3

[State 3061, 5]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 14,-2

[State 3091, 6]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -14,-12

[State 3091, 7]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -10,-14

[State 3091, 8]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 55,-18

[State 3091, 9]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 53,-56

[State 3091, 10]
type = TargetBind
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
pos = 22,-116

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 8, >= 0
trigger1 = AnimElem = 9, < 0
pos = -64,-109

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 9, >= 0
trigger1 = AnimElem = 10, < 0
pos = -94,-1

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 10, >= 0
trigger1 = AnimElem = 11, < 0
pos = -90,-1

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 11, >= 0
trigger1 = AnimElem = 12, < 0
pos = -79,-9

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 12, >= 0
trigger1 = AnimElem = 13, < 0
pos = -79,-37

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 13, >= 0
trigger1 = AnimElem = 14, < 0
trigger2 = AnimElem = 27, >= 0
trigger2 = AnimElem = 28, < 0
trigger3 = AnimElem = 41, >= 0
trigger3 = AnimElem = 42, < 0
pos = -64,-74

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 14, >= 0
trigger1 = AnimElem = 15, < 0
trigger2 = AnimElem = 28, >= 0
trigger2 = AnimElem = 29, < 0
trigger3 = AnimElem = 42, >= 0
trigger3 = AnimElem = 43, < 0
pos = -12,-124

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 15, >= 0
trigger1 = AnimElem = 16, < 0
trigger2 = AnimElem = 29, >= 0
trigger2 = AnimElem = 30, < 0
trigger3 = AnimElem = 43, >= 0
trigger3 = AnimElem = 44, < 0
pos = 45,-3

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 16, >= 0
trigger1 = AnimElem = 17, < 0
trigger2 = AnimElem = 30, >= 0
trigger2 = AnimElem = 31, < 0
trigger3 = AnimElem = 44, >= 0
trigger3 = AnimElem = 45, < 0
pos = 46,-3

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 17, >= 0
trigger1 = AnimElem = 18, < 0
trigger2 = AnimElem = 31, >= 0
trigger2 = AnimElem = 32, < 0
trigger3 = AnimElem = 45, >= 0
trigger3 = AnimElem = 46, < 0
pos = 53,-8

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 18, >= 0
trigger1 = AnimElem = 19, < 0
trigger2 = AnimElem = 32, >= 0
trigger2 = AnimElem = 33, < 0
trigger3 = AnimElem = 46, >= 0
trigger3 = AnimElem = 47, < 0
pos = 53,-14

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 19, >= 0
trigger1 = AnimElem = 20, < 0
trigger2 = AnimElem = 33, >= 0
trigger2 = AnimElem = 34, < 0
trigger3 = AnimElem = 47, >= 0
trigger3 = AnimElem = 48, < 0
pos = 56,-17

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 20, >= 0
trigger1 = AnimElem = 21, < 0
trigger2 = AnimElem = 34, >= 0
trigger2 = AnimElem = 35, < 0
trigger3 = AnimElem = 48, >= 0
trigger3 = AnimElem = 49, < 0
pos = 51,-56

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 21, >= 0
trigger1 = AnimElem = 22, < 0
trigger2 = AnimElem = 35, >= 0
trigger2 = AnimElem = 36, < 0
trigger3 = AnimElem = 49, >= 0
trigger3 = AnimElem = 50, < 0
pos = 23,-115

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 22, >= 0
trigger1 = AnimElem = 23, < 0
trigger2 = AnimElem = 36, >= 0
trigger2 = AnimElem = 37, < 0
trigger3 = AnimElem = 50, >= 0
trigger3 = AnimElem = 51, < 0
pos = -64,-109

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 23, >= 0
trigger1 = AnimElem = 24, < 0
trigger2 = AnimElem = 37, >= 0
trigger2 = AnimElem = 38, < 0
trigger3 = AnimElem = 51, >= 0
trigger3 = AnimElem = 52, < 0
pos = -93,-3

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 24, >= 0
trigger1 = AnimElem = 25, < 0
trigger2 = AnimElem = 38, >= 0
trigger2 = AnimElem = 39, < 0
trigger3 = AnimElem = 52, >= 0
trigger3 = AnimElem = 53, < 0
pos = -93,-3

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 25, >= 0
trigger1 = AnimElem = 26, < 0
trigger2 = AnimElem = 39, >= 0
trigger2 = AnimElem = 40, < 0
trigger3 = AnimElem = 53, >= 0
trigger3 = AnimElem = 54, < 0
pos = -78,-10

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 26, >= 0
trigger1 = AnimElem = 27, < 0
trigger2 = AnimElem = 40, >= 0
trigger2 = AnimElem = 41, < 0
trigger3 = AnimElem = 54, >= 0
trigger3 = AnimElem = 55, < 0
pos = -79,-36

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 55, >= 0
trigger1 = AnimElem = 56, < 0
pos = -70,-93

[State 3091, 11]
type = TargetBind
trigger1 = AnimElem = 56
pos = 0,-111

[State 3091, 11]
type = PosAdd
trigger1 = AnimElem = 5
pos = -64

[State 3091, 12]
type = PosAdd
trigger1 = AnimElem = 58
x = 20

[State 3091, 13]
type = PosAdd
trigger1 = AnimElem = 59
trigger2 = AnimElem = 60
x = 5

[State 3091, 14]
type = PosAdd
trigger1 = AnimElem = 61
trigger2 = AnimElem = 62
x = 12

[State 3091, 15]
type = PosAdd
trigger1 = AnimElem = 63
trigger2 = AnimElem = 64
x = 5

[State 3091, 13]
type = posadd
trigger1 = time=[190,220]
x = ifelse(frontedgedist<=120,-8,0)

[State 3091, 16]
type = ScreenBound
trigger1 = time >= 0
movecamera = 1,0

[State 3091, 17]
type = helper
trigger1 = AnimElem = 67
ID = 3097
pos = 100, 0
postype = p1
stateno = 3097
helpertype = normal
name = "Skull Projectile"
ownpal = 1
keyctrl = 0

[State 3091, 18]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Ankoku Jigoku Gokuraku Otoshi (Thrown)
[Statedef 3095]
type    = A
movetype= H
physics = N
velset = 0
ctrl = 0

[State 3095, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3075

[State 3095, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3096

;---------------------------------------------------------
; Kujiku Daichi (Falling)
[Statedef 3096]
type    = A
movetype= H
physics = N
velset = -1,-15

[State 3096, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3027

[State 3096, 2]
type = PosAdd
Trigger1 = Time = 0
x = -30

[State 3096, 3]
type = VelAdd
trigger1 = Time > 0
y = .47

[State 3096, 4]
type = LifeAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -120

[State 3096, 5]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10
ampl = -6
freq = 90
phase = 90

[State 3096, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;-------------------------------------------------------------
; Skull (Projectile)
[Statedef 3097]
type    = S
movetype= A
physics = S
velset = 0
ctrl = 0
anim = 3076
poweradd = 0

[State 3097, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Up
damage = 120, 5
guardflag = MA
pausetime = 10,10
sparkxy =  0,-50
hitsound   = S2200,6
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 25
ground.velocity = -2      
air.hittime = 20
ground.velocity = -1.5, -10
air.velocity = -1.5,-12
airguard.velocity = -2,-5
fall = 1

[State 3097, 2]
type = EnvColor
trigger1 = Time = 5
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 3097, 3]
type = EnvShake
trigger1 = Time = 5
time = 20
ampl = -6
freq = 90
phase = 90

[state 3097, 4]
type = SprPriority
trigger1 = Time > 0
value = -2

[State 3097, 5]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------
; Running Forward
[Statedef 100]
type    = S
physics = S
anim = 100
ctrl = 1
velset = 0
sprpriority = 1

[State 100, 2]
type = VelSet
trigger1 = AnimElem = 2, < 0
x = 0

[State 100, 3]
type = VelSet
trigger1 = AnimElem = 2, >= 0
x = const(velocity.run.fwd.x)

; Play sound when running
[State 100, 4.1]
type = PlaySnd
trigger1 = Timemod = 20,0;start playing from time = 0,then play again for every 71 more ticks
value = 100,0
channel = 20
volume = 80

; Play sound when running
[State 100, 4.1]
type = PlaySnd
trigger1 = Timemod = 20,10;start playing from time = 0,then play again for every 71 more ticks
value = 100,1
channel = 20
volume = 80

;Stop channel 20's sound when button fwd is release
[State 100, 4.2]
type = StopSnd
triggerall = var(30)=0
trigger1 = AnimElem = 5, >= 0
trigger1 = command != "holdfwd"
channel = 20;running snd

;Stop channel 20's sound when button fwd is release
[State 100, 4.3]
type = StopSnd
trigger1 = var(30)
trigger1 = time>10
channel = 20;running snd


[State 100, 6]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 5.2]
type = ChangeState
trigger1 = var(30)=0
trigger1 = command = "holdup"
value = 40

[State 100, 5.1]
type = ChangeState
triggerall = var(30)=0
triggerall = time>=13
trigger1 = command != "holdfwd"
value = 0
ctrl=1

[State 100, 5.2]
type = ChangeState
triggerall = time>=13
trigger1 = var(30)
value = 0
ctrl=1


;---------------------------------------------------------
; Dash Back
[Statedef 105]
type    = A
physics = A
velset = -6.8,-5
ctrl = 0
anim = 105

[State 105, 1]
type = VelMul
trigger1 = Time > 10
x = .8
y = 1.2

[State 105, 2]
type = PlaySnd
trigger1 = Time = 1
value = 105,0

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------
; Dash Back (land)
[Statedef 106]
type    = S
physics = S
anim = 47
velset = 0,0

[State 106, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PlaySnd
trigger1 = Time = 0
value = 40,2

[State 106, 3]
type = ChangeState
trigger1 = Time = 4
value = 0
ctrl = 1

;---------------------------------------------------------
 Jump Initiate
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40, 1]
type = VarSet
triggerall = var(30)
triggerall = Time=0
trigger1 = 1
var(8) = 1

[State 40, 1]
type = VarSet
triggerall = var(30)
triggerall = Time=0
trigger1 = p2bodydist x<=80 && (p2statetype=A || p2statetype=C&&random<=400)
var(8) = 0

[State 40, 1]
type = VarSet
triggerall = var(30)
triggerall = Time=0
trigger1 = p2bodydist x<=120 && p2statetype=A
trigger2 = p2bodydist x<=100 && enemy,vel x>=4 && random<=666
var(8) = -1

[State 40, 1]
type = VarSet
triggerall = var(30)
triggerall = Time=0
triggerall = var(8)=1
trigger1 = p2bodydist x>=120&&random<=400 || enemy,numproj
var(8) = 2

[State 40, 1]
type = VarSet
triggerall = !var(30)
trigger1 = Time = 0
v = 8
value = 0

[State 40, 2]
type = VarSet
triggerall = var(30)=0
trigger1 = command = "holdfwd"
trigger1 = var(8) != 2
v = 8
value = 1

[State 40, 3]
type = VarSet
triggerall = var(30)=0
trigger1 = command = "holdback"
trigger1 = var(8) != -2
v = 8
value = -1

[State 40, 4]
type = VarSet
triggerall = var(30)=0
trigger1 = Time = 0
trigger1 = command = "holdfwd"
trigger1 = command = "longjump"
v = 8
value = 2

[State 40, 5]
type = VarSet
triggerall = var(30)=0
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
v = 8
value = -2

[State 40, 6]
type = ChangeState
triggerall = var(30)
triggerall = AnimTime = 0
triggerall = var(8)>=0
triggerall = !enemy,numproj
triggerall = p2bodydist x<=80
trigger1 = p2statetype!=A && random<=500
trigger2 = enemy,vel x<3
value = 41

[State 40, 6]
type = ChangeState
triggerall = var(30)=0
triggerall = AnimTime = 0
trigger1 = var(8) != 0
trigger1 = var(8) != 1
trigger1 = var(8) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 41

[State 40, 7]
type = VarSet
triggerall = var(30)
triggerall = Time=0
trigger1 = var(8)=0
sysvar(1) = 0

[State 40, 7]
type = VarSet
triggerall = var(30)
triggerall = Time=0
trigger1 = var(8)=1
sysvar(1) = 1

[State 40, 7]
type = VarSet
triggerall = var(30)
triggerall = Time=0
trigger1 = var(8)=-1
sysvar(1) = -1

[State 40, 7]
type = VarSet
triggerall = var(30)=0
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 8]
type = VarSet
triggerall = var(30)=0
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 9]
type = VarSet
triggerall = var(30)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 10]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 11]
type = VelSet
triggerall = var(30)=0
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------
; Jump Up
[Statedef 41]
type    = A
physics = A
velset = 0, -8
ctrl = 1

[State 41, 1]
type = AfterImage
triggerall = Time = 0
trigger1 = var(8) = -2
trigger2 = var(8) = 2
time = 8
FrameGap = 3
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 41, 2]
type = VelSet
trigger1 = var(30)=0
trigger1 = Time = 0
trigger1 = command = "holdup"
y = -9.5

[State 41, 3]
type = VelSet
trigger1 = Time = 0
trigger1 = var(8) = 1
x = 3

[State 41, 4]
type = VelSet
trigger1 = Time = 0
trigger1 = var(8) = 2
x = 4.5

[State 41, 5]
type = VelSet
trigger1 = Time = 0
trigger1 = var(8) = -1
x = -3

[State 41, 6]
type = VelSet
trigger1 = Time = 0
trigger1 = var(8) = -2
x = -4.5

[State 41, 7]
type = PlayerPush
triggerall = Time >= 0
trigger1 = var(8) = -1
trigger2 = var(8) = 1
value = 0

[State 41, 8]
type = ChangeAnim
trigger1 = var(30)=0
trigger1 = Time = 0
trigger1 = command != "holdup"
trigger2 = var(30)
trigger2 = Time = 0
value = 41

[State 41, 9]
type = ChangeAnim
trigger1 = var(30)=0
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
trigger2 = var(30)
trigger2 = Time = 0
trigger2 = Vel X > 0
value = 48

[State 41, 10]
type = PlaySnd
trigger1 = Time = 0
trigger1 = command = "holdup"
value = 40,1

[State 41, 11]
type = ChangeAnim
trigger1 = var(30)=0
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
trigger2 = var(30)
trigger2 = Time = 0
trigger2 = Vel X < 0
value = 43

;---------------------------------------------------------
; Bounce off Ground
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
;value = 61
;pos = 0, 0
;under = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = EnvShake
trigger1 = Time = 0
time = 8
ampl = -4
freq = 90
phase = 90

[State 5100, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 14]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

; Dizzy Mode
[Statedef 5304]
type    = S
physics = S
anim = 5300
ctrl = 0

[State 5304, 1];back to normal
type = ChangeState
trigger1 = Time = 300
trigger2 = Time >= 30;must stay at lease for 50 ticks for fast recovery
trigger2 = var(6) >= 5
value = 0
ctrl = 1

[State 5304, 2]
type = Varset
trigger1 = Time = 0
var(6) = 0

[State 5304, 3];press left right quickly to recover faster
type = Varadd
trigger1 = command = "dizzyrecover"
var(6) = 1

[State 5304, 4]
type = Playsnd
trigger1 = Time = 0
value = 0,10
volume = -40

;--------------------
; Dizzy Mode(shaking)
[Statedef 5300]
type    = A
movetype= H
physics = N

[State 5300, 1]
type = Varset
trigger1 = time = 0
var(7) = 0

[State 5300, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5301

[State 5300, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[State 5300, 4]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------
; Dizzy Mode(fall through air)
[Statedef 5301]
type    = A
movetype= H
physics = N
anim = 5050

[State 5301, 1]
type = Veladd
trigger1 = Time = 0
y = -6

[State 5301, 1];reduce speed if vel x is too large
type = Veladd
trigger1 = vel x < -5
x = .5

[State 5301, 2]
type = Gravity
trigger1 = 1

[State 5301, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
value = 5302

[State 5301, 4]
type = Nothitby
trigger1 = 1
value = SCA

;---------------------
; Dizzy Mode(lie down)
[Statedef 5302]
type    = L
movetype= H
physics = N

[State 5302, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5302, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5302, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5302, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5302, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5302, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5302, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5302, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5302, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5302, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5302, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5302, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5302, 11] ;If alive
type = ChangeState
trigger1 = alive
trigger1 = Time = 40
value = 5303

[State 5302, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5302, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5302, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5302, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 5302, 16]
type = Nothitby
trigger1 = 1
value = SCA

;------------------
; Dizzy Mode(getup)
[Statedef 5303]
type    = L
movetype= I
physics = N

[State 5303, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5303, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5303, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5303, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5303, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5303, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = SCA, NT,ST,HT
time = 12

[State 5303, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5303, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 5304
ctrl = 0




;--------------------------
; Armor mode overwrite code
;--------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
trigger1 = var(11) = 0
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
trigger1 = var(11) = 0
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
trigger1 = var(11) = 0
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 4] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 5000, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = var(11) = 0
trigger2 = var(11) != 0
value = 5001 ;HITG_SLIDE

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = var(11) = 0
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    = S
movetype= H
physics = S
velset = 0,0

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = var(11) = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = 0.6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
trigger1 = var(11) = 0
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
trigger1 = var(11) = 0
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
trigger1 = var(11) = 0
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = var(11) = 0
trigger2 = var(11) != 0
value = 5011 ;HITC_SLIDE

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = var(11) = 0
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    = C
movetype= H
physics = C
velset = 0,0

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = var(11) = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=========================================
[Statedef 5201]
type    = S
movetype= H
physics = S
anim = 5200
ctrl = 0

[State 5201]
type = PlaySnd
trigger1 = !Time
value = 191,1
channel = 0

[State 5201, Turn] 
type = Turn
trigger1 = !Time && P2Dist X < -5

[State 5201, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 5201, Roll Back Vel]
type = VelSet
trigger1 = Time = [0,12]
x = -4

[State 5201, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 5201, Invincible]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------
[Statedef -2]

;*********************=1000*********************
[State 0, PowerSet]
type = PowerSet
trigger1=roundstate= 0
trigger1 = roundno = 1
value = 1000
ignorehitpause =1

; Stop AfterImage
[State -2, 1]
type = AfterImageTime
triggerall = Time = 0
trigger1 = Stateno = 5000
trigger2 = Stateno = 5010
trigger3 = Stateno = 5020
trigger4 = Stateno = 5070
Time = 0

; Ground Shake
[State -2, 2]
type = EnvShake
trigger1 = StateNo = 5071
trigger1 = Vel Y > 0
trigger1 = Pos Y > 10
time = 8
ampl = -4
freq = 90
phase = 90

[State -2, 3]
type = Varset
trigger1 = var(30)
trigger1 = lose
var(1)=1

[State -2, 3]
type = Varset
trigger1 = var(30)=0
trigger1 = palno<=6
var(1)=0

[State -2, 3]
type = Varset
trigger1 = var(30)=0
trigger1 = palno>=1
var(1)=1


; AfterImage for Run Jump Forward
[State -2, 6]
type = AfterImage
trigger1 = Anim = 42
trigger1 = time = 1
trigger1 = Vel X > 3.9
trigger1 = Vel Y < -4
time = 8
FrameGap = 3
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

; Sound for Run Jump Forward
[State -2, 7]
type = PlaySnd
trigger1 = Anim = 42
trigger1 = time = 1
trigger1 = Vel X > 3.9
trigger1 = Vel Y < -4
value = 40,1

; Hit Light or Medium Sound
[State -2, 8]
type = PlaySnd
triggerall = random < 350
triggerall = time = 1
triggerall = stateno = 5000
triggerall = Alive = 1
trigger1 = anim = 5000
trigger2 = anim = 5001
trigger3 = anim = 5010
trigger4 = anim = 5011
value = 210,0

; Hit Light or Medium Sound (in the air)
[State -2, 9]
type = PlaySnd
triggerall = random < 350
triggerall = time = 1
triggerall = stateno = 5010
triggerall = Alive = 1
trigger1 = anim = 5020
trigger2 = anim = 5021
value = 210,0

; Hit Hard Sound
[State -2, 10]
type = PlaySnd
triggerall = random < 350
triggerall = time = 1
triggerall = stateno = 5000
triggerall = Alive = 1
trigger1 = anim = 5002
trigger2 = anim = 5012
value = 210,1

; Hit Hard Sound (in the air)
[State -2,11]
type = PlaySnd
trigger1 = random < 350
trigger1 = time = 1
trigger1 = stateno = 5010
trigger1 = Alive = 1
trigger1 = anim = 5022
value = 210,1

; Landing on Back Sound
[State -2,12]
type = PlaySnd
trigger1 = random < 370
trigger1 = time = 1
trigger1 = stateno = 5100
trigger1 = Alive = 1
value = 210,2

; Play sound when jumping
[State -2, 13]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 50
value = 40,0

; Play sound when landing
[State -2, 14]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
value = 40,2

[State -2, VAR4]
type=VarSet
trigger1=StateNo!=[3000,4000)
trigger1=Var(4)!=0
v=4
value=0
;============================
; Counter & Armor mode system
;============================
[State -2, 4.11]
type = Varadd
trigger1 = var(10) > 0
var(10) = -1
ignorehitpause = 1

[State -2, 4.12]
type = Varadd
trigger1 = var(11) > 0
var(11) = -1
ignorehitpause = 1

[State -2, 4.21];Damage increase
type = AttackMulSet
trigger1 = Var(10) != 0
trigger2 = Var(11) != 0
value = 1.2

[State -2, 4.22];Back to normal
type = AttackMulSet
trigger1 = Var(10) = 0
trigger1 = Var(11) = 0
value = 1

[State -2, 4.3];during armor mode,power should be zero all the time.
type = Powerset
trigger1 = Var(10) != 0
trigger2 = Var(11) != 0
value = 0

[State -2, 5.1]
type = PalFX
trigger1 = (GameTime%2)=0;for blinking
trigger1 = Var(10) != 0
time = 1
add = 220,72,40
ignorehitpause = 1

[State -2, 5.2]
type = PalFX
trigger1 = (GameTime%2)=0;for blinking
trigger1 = Var(11) != 0
time = 1
add = 200,152,32
ignorehitpause = 1

;=====================================================
[state -3]
type = varset
trigger1 = moveguarded
trigger2 = (stateno=[600,699]) && movecontact
var(32) = 21	
ignorehitpause = 1 

[state -3]
type = varadd
trigger1 = var(32)
var(32) = -1
ignorehitpause = 1

[state -3]
type = varset
trigger1 = (stateno!=[600,699]) && movehit
var(32) = 0
ignorehitpause = 1 
;==============================================================
[state -3]
type = varset
trigger1 = (stateno=215||stateno=245||stateno=410||stateno=207||stateno=235) && movehit
var(33) = 21	
ignorehitpause = 1 

[state -3]
type = varadd
trigger1 = var(33)
var(33) = -1
ignorehitpause = 1

[state -3]
type = varset
trigger1 = !(stateno=215||stateno=245||stateno=410||stateno=207||stateno=235) && movehit
var(33) = 0
ignorehitpause = 1 